#include <stddef.h>
#include "base.h"

#define ALL_SQ_BIT_VALUES \
    0x1u, 0x2u, 0x4u, 0x8u, 0x10u, 0x20u, 0x40u, 0x80u, 0x100u, 0x200u, 0x400u, \
    0x800u, 0x1000u, 0x2000u, 0x4000u, 0x8000u, 0x10000u, 0x20000u, 0x40000u, \
    0x80000u, 0x100000u, 0x200000u, 0x400000u, 0x800000u, 0x1000000u, 0x2000000u, \
    0x4000000u, 0x8000000u, 0x10000000u, 0x20000000u, 0x40000000u, 0x80000000u, \
    0x100000000u, 0x200000000u, 0x400000000u, 0x800000000u, 0x1000000000u, \
    0x2000000000u, 0x4000000000u, 0x8000000000u, 0x10000000000u, 0x20000000000u, \
    0x40000000000u, 0x80000000000u, 0x100000000000u, 0x200000000000u, \
    0x400000000000u, 0x800000000000u, 0x1000000000000u, 0x2000000000000u, \
    0x4000000000000u, 0x8000000000000u, 0x10000000000000u, 0x20000000000000u, \
    0x40000000000000u, 0x80000000000000u, 0x100000000000000u, 0x200000000000000u, \
    0x400000000000000u, 0x800000000000000u, 0x1000000000000000u, 0x2000000000000000u, \
    0x4000000000000000u, 0x8000000000000000u

// The following should be the only variable of type struct
// single_instance_variable_SB. The variable 'SB' serves as a mapping
// between square names (e.g., SB.e4) and square bits (e.g., 0x10000000u).
const struct single_instance_variable_SB SB = {
    ALL_SQ_BIT_VALUES };

// The 64 members of the 'SB' variable as an array. SBA[0] is SB.a1
// and SBA[63] is SB.h8.
const Bitboard SBA[] = {
    ALL_SQ_BIT_VALUES };

#undef ALL_SQ_BIT_VALUES

// SNA, square names array. SNA[0] is "a1", SNA[1] is "b1", ...,
// SNA[63] is "h8".
const char * const SNA[] = {
    "a1", "b1", "c1", "d1", "e1", "f1", "g1", "h1",
    "a2", "b2", "c2", "d2", "e2", "f2", "g2", "h2",
    "a3", "b3", "c3", "d3", "e3", "f3", "g3", "h3",
    "a4", "b4", "c4", "d4", "e4", "f4", "g4", "h4",
    "a5", "b5", "c5", "d5", "e5", "f5", "g5", "h5",
    "a6", "b6", "c6", "d6", "e6", "f6", "g6", "h6",
    "a7", "b7", "c7", "d7", "e7", "f7", "g7", "h7",
    "a8", "b8", "c8", "d8", "e8", "f8", "g8", "h8" };

// The 12 letters that identify the different chessmen in the PPF
// of a FEN string. The first element of the array is '-' and as such
// isn't one of the 12 letters. The order of the letters correspond
// to the Chessman enum type.
const char PPF_CHESSMAN_LETTERS[] = "-KQRBNPkqrbnp";

// The 21 ways rooks can be placed in a Chess960 starting position. Each of the values
// is an 8-bit unsigned integer with exactly two bits set. The two set bits correspond
// to the files on which the rooks are located. The LSB is file a and the MSB is
// file h. As an example, here's the diagram for the value 2 + 16:
//
//   h    g    f    e    d    c    b    a
// [   ][   ][   ][ x ][   ][   ][ x ][   ]
//                                     LSB
//
const int POSSIBLE_IRPF_VALUES_COUNT = 21;
const uint8_t POSSIBLE_IRPF_VALUES[] = {
    1 + 4, 1 + 8, 1 + 16, 1 + 32, 1 + 64, 1 + 128,
    2 + 8, 2 + 16, 2 + 32, 2 + 64, 2 + 128,
    4 + 16, 4 + 32, 4 + 64, 4 + 128,
    8 + 32, 8 + 64, 8 + 128,
    16 + 64, 16 + 128,
    32 + 128 };

// Matches any of the 16 standard FEN castling availability fields. Note that the
// regex also matches the empty string so be sure to check that the string length
// is greater than zero when using the regex.
const char STD_FEN_CAF_REGEX[] = "^(-|K?Q?k?q?)$";

// All possible Shredder-FEN castling availability fields along with their number
const int SHREDDER_FEN_CAFS_COUNT = 361;
const char * const SHREDDER_FEN_CAFS[] = {
    "-", "a", "A", "Aa", "Aac", "Aad", "Aae", "Aaf", "Aag", "Aah", "ac", "Ac", "AC",
    "Aca", "ACa", "ACac", "ACc", "ad", "Ad", "AD", "Ada", "ADa", "ADad", "ADd", "ae",
    "Ae", "AE", "Aea", "AEa", "AEae", "AEe", "af", "Af", "AF", "Afa", "AFa", "AFaf",
    "AFf", "ag", "Ag", "AG", "Aga", "AGa", "AGag", "AGg", "ah", "Ah", "AH", "Aha",
    "AHa", "AHah", "AHh", "b", "B", "Bb", "Bbd", "Bbe", "Bbf", "Bbg", "Bbh", "bd",
    "Bd", "BD", "Bdb", "BDb", "BDbd", "BDd", "be", "Be", "BE", "Beb", "BEb", "BEbe",
    "BEe", "bf", "Bf", "BF", "Bfb", "BFb", "BFbf", "BFf", "bg", "Bg", "BG", "Bgb",
    "BGb", "BGbg", "BGg", "bh", "Bh", "BH", "Bhb", "BHb", "BHbh", "BHh", "c", "C",
    "ca", "Ca", "CA", "CAa", "Cac", "CAc", "CAca", "Cc", "Cca", "Cce", "Ccf", "Ccg",
    "Cch", "ce", "Ce", "CE", "Cec", "CEc", "CEce", "CEe", "cf", "Cf", "CF", "Cfc",
    "CFc", "CFcf", "CFf", "cg", "Cg", "CG", "Cgc", "CGc", "CGcg", "CGg", "ch", "Ch",
    "CH", "Chc", "CHc", "CHch", "CHh", "d", "D", "da", "Da", "DA", "DAa", "Dad", "DAd",
    "DAda", "db", "Db", "DB", "DBb", "Dbd", "DBd", "DBdb", "Dd", "Dda", "Ddb", "Ddf",
    "Ddg", "Ddh", "df", "Df", "DF", "Dfd", "DFd", "DFdf", "DFf", "dg", "Dg", "DG",
    "Dgd", "DGd", "DGdg", "DGg", "dh", "Dh", "DH", "Dhd", "DHd", "DHdh", "DHh", "e",
    "E", "ea", "Ea", "EA", "EAa", "Eae", "EAe", "EAea", "eb", "Eb", "EB", "EBb", "Ebe",
    "EBe", "EBeb", "ec", "Ec", "EC", "ECc", "Ece", "ECe", "ECec", "Ee", "Eea", "Eeb",
    "Eec", "Eeg", "Eeh", "eg", "Eg", "EG", "Ege", "EGe", "EGeg", "EGg", "eh", "Eh",
    "EH", "Ehe", "EHe", "EHeh", "EHh", "f", "F", "fa", "Fa", "FA", "FAa", "Faf",
    "FAf", "FAfa", "fb", "Fb", "FB", "FBb", "Fbf", "FBf", "FBfb", "fc", "Fc", "FC",
    "FCc", "Fcf", "FCf", "FCfc", "fd", "Fd", "FD", "FDd", "Fdf", "FDf", "FDfd", "Ff",
    "Ffa", "Ffb", "Ffc", "Ffd", "Ffh", "fh", "Fh", "FH", "Fhf", "FHf", "FHfh", "FHh",
    "g", "G", "ga", "Ga", "GA", "GAa", "Gag", "GAg", "GAga", "gb", "Gb", "GB", "GBb",
    "Gbg", "GBg", "GBgb", "gc", "Gc", "GC", "GCc", "Gcg", "GCg", "GCgc", "gd", "Gd",
    "GD", "GDd", "Gdg", "GDg", "GDgd", "ge", "Ge", "GE", "GEe", "Geg", "GEg", "GEge",
    "Gg", "Gga", "Ggb", "Ggc", "Ggd", "Gge", "h", "H", "ha", "Ha", "HA", "HAa", "Hah",
    "HAh", "HAha", "hb", "Hb", "HB", "HBb", "Hbh", "HBh", "HBhb", "hc", "Hc", "HC",
    "HCc", "Hch", "HCh", "HChc", "hd", "Hd", "HD", "HDd", "Hdh", "HDh", "HDhd", "he",
    "He", "HE", "HEe", "Heh", "HEh", "HEhe", "hf", "Hf", "HF", "HFf", "Hfh", "HFh",
    "HFhf", "Hh", "Hha", "Hhb", "Hhc", "Hhd", "Hhe", "Hhf", NULL };

// Square navigation or direction data for each of the 64 squares of the
// chessboard. A square either has or doesn't have another square near it it
// a particular direction. For example, there's a square NORTH of e4 (namely
// the square e5) but there's no square SOUTH of e1. The directions are
// defined by enum sq_dir.
const Bitboard SQ_NAV[][ 16 ] = {
    { 0x100U, 0x200U, 0x2U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U, 0x20000U, 0x400U, 0x0U,
    0x0U, 0x0U, 0x0U, 0x0U, 0x0U }, { 0x200U, 0x400U, 0x4U, 0x0U, 0x0U, 0x0U, 0x1U,
    0x100U, 0x40000U, 0x800U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U, 0x10000U }, { 0x400U,
    0x800U, 0x8U, 0x0U, 0x0U, 0x0U, 0x2U, 0x200U, 0x80000U, 0x1000U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x100U, 0x20000U }, { 0x800U, 0x1000U, 0x10U, 0x0U, 0x0U, 0x0U,
    0x4U, 0x400U, 0x100000U, 0x2000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x200U, 0x40000U
    }, { 0x1000U, 0x2000U, 0x20U, 0x0U, 0x0U, 0x0U, 0x8U, 0x800U, 0x200000U,
    0x4000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x400U, 0x80000U }, { 0x2000U, 0x4000U,
    0x40U, 0x0U, 0x0U, 0x0U, 0x10U, 0x1000U, 0x400000U, 0x8000U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x800U, 0x100000U }, { 0x4000U, 0x8000U, 0x80U, 0x0U, 0x0U,
    0x0U, 0x20U, 0x2000U, 0x800000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U, 0x1000U,
    0x200000U }, { 0x8000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U, 0x40U, 0x4000U, 0x0U,
    0x0U, 0x0U, 0x0U, 0x0U, 0x0U, 0x2000U, 0x400000U }, { 0x10000U, 0x20000U,
    0x200U, 0x2U, 0x1U, 0x0U, 0x0U, 0x0U, 0x2000000U, 0x40000U, 0x4U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x0U }, { 0x20000U, 0x40000U, 0x400U, 0x4U, 0x2U, 0x1U, 0x100U,
    0x10000U, 0x4000000U, 0x80000U, 0x8U, 0x0U, 0x0U, 0x0U, 0x0U, 0x1000000U }, {
    0x40000U, 0x80000U, 0x800U, 0x8U, 0x4U, 0x2U, 0x200U, 0x20000U, 0x8000000U,
    0x100000U, 0x10U, 0x0U, 0x0U, 0x1U, 0x10000U, 0x2000000U }, { 0x80000U,
    0x100000U, 0x1000U, 0x10U, 0x8U, 0x4U, 0x400U, 0x40000U, 0x10000000U,
    0x200000U, 0x20U, 0x0U, 0x0U, 0x2U, 0x20000U, 0x4000000U }, { 0x100000U,
    0x200000U, 0x2000U, 0x20U, 0x10U, 0x8U, 0x800U, 0x80000U, 0x20000000U,
    0x400000U, 0x40U, 0x0U, 0x0U, 0x4U, 0x40000U, 0x8000000U }, { 0x200000U,
    0x400000U, 0x4000U, 0x40U, 0x20U, 0x10U, 0x1000U, 0x100000U, 0x40000000U,
    0x800000U, 0x80U, 0x0U, 0x0U, 0x8U, 0x80000U, 0x10000000U }, { 0x400000U,
    0x800000U, 0x8000U, 0x80U, 0x40U, 0x20U, 0x2000U, 0x200000U, 0x80000000U,
    0x0U, 0x0U, 0x0U, 0x0U, 0x10U, 0x100000U, 0x20000000U }, { 0x800000U, 0x0U,
    0x0U, 0x0U, 0x80U, 0x40U, 0x4000U, 0x400000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U,
    0x20U, 0x200000U, 0x40000000U }, { 0x1000000U, 0x2000000U, 0x20000U, 0x200U,
    0x100U, 0x0U, 0x0U, 0x0U, 0x200000000U, 0x4000000U, 0x400U, 0x2U, 0x0U, 0x0U,
    0x0U, 0x0U }, { 0x2000000U, 0x4000000U, 0x40000U, 0x400U, 0x200U, 0x100U,
    0x10000U, 0x1000000U, 0x400000000U, 0x8000000U, 0x800U, 0x4U, 0x1U, 0x0U, 0x0U,
    0x100000000U }, { 0x4000000U, 0x8000000U, 0x80000U, 0x800U, 0x400U, 0x200U,
    0x20000U, 0x2000000U, 0x800000000U, 0x10000000U, 0x1000U, 0x8U, 0x2U, 0x100U,
    0x1000000U, 0x200000000U }, { 0x8000000U, 0x10000000U, 0x100000U, 0x1000U,
    0x800U, 0x400U, 0x40000U, 0x4000000U, 0x1000000000U, 0x20000000U, 0x2000U,
    0x10U, 0x4U, 0x200U, 0x2000000U, 0x400000000U }, { 0x10000000U, 0x20000000U,
    0x200000U, 0x2000U, 0x1000U, 0x800U, 0x80000U, 0x8000000U, 0x2000000000U,
    0x40000000U, 0x4000U, 0x20U, 0x8U, 0x400U, 0x4000000U, 0x800000000U }, {
    0x20000000U, 0x40000000U, 0x400000U, 0x4000U, 0x2000U, 0x1000U, 0x100000U,
    0x10000000U, 0x4000000000U, 0x80000000U, 0x8000U, 0x40U, 0x10U, 0x800U,
    0x8000000U, 0x1000000000U }, { 0x40000000U, 0x80000000U, 0x800000U, 0x8000U,
    0x4000U, 0x2000U, 0x200000U, 0x20000000U, 0x8000000000U, 0x0U, 0x0U, 0x80U,
    0x20U, 0x1000U, 0x10000000U, 0x2000000000U }, { 0x80000000U, 0x0U, 0x0U,
    0x0U, 0x8000U, 0x4000U, 0x400000U, 0x40000000U, 0x0U, 0x0U, 0x0U, 0x0U,
    0x40U, 0x2000U, 0x20000000U, 0x4000000000U }, { 0x100000000U, 0x200000000U,
    0x2000000U, 0x20000U, 0x10000U, 0x0U, 0x0U, 0x0U, 0x20000000000U, 0x400000000U,
    0x40000U, 0x200U, 0x0U, 0x0U, 0x0U, 0x0U }, { 0x200000000U, 0x400000000U,
    0x4000000U, 0x40000U, 0x20000U, 0x10000U, 0x1000000U, 0x100000000U,
    0x40000000000U, 0x800000000U, 0x80000U, 0x400U, 0x100U, 0x0U, 0x0U,
    0x10000000000U }, { 0x400000000U, 0x800000000U, 0x8000000U, 0x80000U, 0x40000U,
    0x20000U, 0x2000000U, 0x200000000U, 0x80000000000U, 0x1000000000U, 0x100000U,
    0x800U, 0x200U, 0x10000U, 0x100000000U, 0x20000000000U }, { 0x800000000U,
    0x1000000000U, 0x10000000U, 0x100000U, 0x80000U, 0x40000U, 0x4000000U,
    0x400000000U, 0x100000000000U, 0x2000000000U, 0x200000U, 0x1000U, 0x400U,
    0x20000U, 0x200000000U, 0x40000000000U }, { 0x1000000000U, 0x2000000000U,
    0x20000000U, 0x200000U, 0x100000U, 0x80000U, 0x8000000U, 0x800000000U,
    0x200000000000U, 0x4000000000U, 0x400000U, 0x2000U, 0x800U, 0x40000U,
    0x400000000U, 0x80000000000U }, { 0x2000000000U, 0x4000000000U, 0x40000000U,
    0x400000U, 0x200000U, 0x100000U, 0x10000000U, 0x1000000000U, 0x400000000000U,
    0x8000000000U, 0x800000U, 0x4000U, 0x1000U, 0x80000U, 0x800000000U,
    0x100000000000U }, { 0x4000000000U, 0x8000000000U, 0x80000000U, 0x800000U,
    0x400000U, 0x200000U, 0x20000000U, 0x2000000000U, 0x800000000000U, 0x0U, 0x0U,
    0x8000U, 0x2000U, 0x100000U, 0x1000000000U, 0x200000000000U }, { 0x8000000000U,
    0x0U, 0x0U, 0x0U, 0x800000U, 0x400000U, 0x40000000U, 0x4000000000U, 0x0U,
    0x0U, 0x0U, 0x0U, 0x4000U, 0x200000U, 0x2000000000U, 0x400000000000U }, {
    0x10000000000U, 0x20000000000U, 0x200000000U, 0x2000000U, 0x1000000U, 0x0U,
    0x0U, 0x0U, 0x2000000000000U, 0x40000000000U, 0x4000000U, 0x20000U, 0x0U, 0x0U,
    0x0U, 0x0U }, { 0x20000000000U, 0x40000000000U, 0x400000000U, 0x4000000U,
    0x2000000U, 0x1000000U, 0x100000000U, 0x10000000000U, 0x4000000000000U,
    0x80000000000U, 0x8000000U, 0x40000U, 0x10000U, 0x0U, 0x0U, 0x1000000000000U
    }, { 0x40000000000U, 0x80000000000U, 0x800000000U, 0x8000000U, 0x4000000U,
    0x2000000U, 0x200000000U, 0x20000000000U, 0x8000000000000U, 0x100000000000U,
    0x10000000U, 0x80000U, 0x20000U, 0x1000000U, 0x10000000000U, 0x2000000000000U
    }, { 0x80000000000U, 0x100000000000U, 0x1000000000U, 0x10000000U, 0x8000000U,
    0x4000000U, 0x400000000U, 0x40000000000U, 0x10000000000000U, 0x200000000000U,
    0x20000000U, 0x100000U, 0x40000U, 0x2000000U, 0x20000000000U, 0x4000000000000U
    }, { 0x100000000000U, 0x200000000000U, 0x2000000000U, 0x20000000U, 0x10000000U,
    0x8000000U, 0x800000000U, 0x80000000000U, 0x20000000000000U, 0x400000000000U,
    0x40000000U, 0x200000U, 0x80000U, 0x4000000U, 0x40000000000U, 0x8000000000000U
    }, { 0x200000000000U, 0x400000000000U, 0x4000000000U, 0x40000000U,
    0x20000000U, 0x10000000U, 0x1000000000U, 0x100000000000U, 0x40000000000000U,
    0x800000000000U, 0x80000000U, 0x400000U, 0x100000U, 0x8000000U, 0x80000000000U,
    0x10000000000000U }, { 0x400000000000U, 0x800000000000U, 0x8000000000U,
    0x80000000U, 0x40000000U, 0x20000000U, 0x2000000000U, 0x200000000000U,
    0x80000000000000U, 0x0U, 0x0U, 0x800000U, 0x200000U, 0x10000000U,
    0x100000000000U, 0x20000000000000U }, { 0x800000000000U, 0x0U, 0x0U, 0x0U,
    0x80000000U, 0x40000000U, 0x4000000000U, 0x400000000000U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x400000U, 0x20000000U, 0x200000000000U, 0x40000000000000U }, {
    0x1000000000000U, 0x2000000000000U, 0x20000000000U, 0x200000000U, 0x100000000U,
    0x0U, 0x0U, 0x0U, 0x200000000000000U, 0x4000000000000U, 0x400000000U,
    0x2000000U, 0x0U, 0x0U, 0x0U, 0x0U }, { 0x2000000000000U, 0x4000000000000U,
    0x40000000000U, 0x400000000U, 0x200000000U, 0x100000000U, 0x10000000000U,
    0x1000000000000U, 0x400000000000000U, 0x8000000000000U, 0x800000000U,
    0x4000000U, 0x1000000U, 0x0U, 0x0U, 0x100000000000000U }, { 0x4000000000000U,
    0x8000000000000U, 0x80000000000U, 0x800000000U, 0x400000000U, 0x200000000U,
    0x20000000000U, 0x2000000000000U, 0x800000000000000U, 0x10000000000000U,
    0x1000000000U, 0x8000000U, 0x2000000U, 0x100000000U, 0x1000000000000U,
    0x200000000000000U }, { 0x8000000000000U, 0x10000000000000U, 0x100000000000U,
    0x1000000000U, 0x800000000U, 0x400000000U, 0x40000000000U, 0x4000000000000U,
    0x1000000000000000U, 0x20000000000000U, 0x2000000000U, 0x10000000U, 0x4000000U,
    0x200000000U, 0x2000000000000U, 0x400000000000000U }, { 0x10000000000000U,
    0x20000000000000U, 0x200000000000U, 0x2000000000U, 0x1000000000U,
    0x800000000U, 0x80000000000U, 0x8000000000000U, 0x2000000000000000U,
    0x40000000000000U, 0x4000000000U, 0x20000000U, 0x8000000U, 0x400000000U,
    0x4000000000000U, 0x800000000000000U }, { 0x20000000000000U, 0x40000000000000U,
    0x400000000000U, 0x4000000000U, 0x2000000000U, 0x1000000000U, 0x100000000000U,
    0x10000000000000U, 0x4000000000000000U, 0x80000000000000U, 0x8000000000U,
    0x40000000U, 0x10000000U, 0x800000000U, 0x8000000000000U, 0x1000000000000000U
    }, { 0x40000000000000U, 0x80000000000000U, 0x800000000000U, 0x8000000000U,
    0x4000000000U, 0x2000000000U, 0x200000000000U, 0x20000000000000U,
    0x8000000000000000U, 0x0U, 0x0U, 0x80000000U, 0x20000000U, 0x1000000000U,
    0x10000000000000U, 0x2000000000000000U }, { 0x80000000000000U, 0x0U, 0x0U,
    0x0U, 0x8000000000U, 0x4000000000U, 0x400000000000U, 0x40000000000000U,
    0x0U, 0x0U, 0x0U, 0x0U, 0x40000000U, 0x2000000000U, 0x20000000000000U,
    0x4000000000000000U }, { 0x100000000000000U, 0x200000000000000U,
    0x2000000000000U, 0x20000000000U, 0x10000000000U, 0x0U, 0x0U, 0x0U, 0x0U,
    0x400000000000000U, 0x40000000000U, 0x200000000U, 0x0U, 0x0U, 0x0U, 0x0U },
    { 0x200000000000000U, 0x400000000000000U, 0x4000000000000U, 0x40000000000U,
    0x20000000000U, 0x10000000000U, 0x1000000000000U, 0x100000000000000U,
    0x0U, 0x800000000000000U, 0x80000000000U, 0x400000000U, 0x100000000U, 0x0U,
    0x0U, 0x0U }, { 0x400000000000000U, 0x800000000000000U, 0x8000000000000U,
    0x80000000000U, 0x40000000000U, 0x20000000000U, 0x2000000000000U,
    0x200000000000000U, 0x0U, 0x1000000000000000U, 0x100000000000U,
    0x800000000U, 0x200000000U, 0x10000000000U, 0x100000000000000U, 0x0U
    }, { 0x800000000000000U, 0x1000000000000000U, 0x10000000000000U,
    0x100000000000U, 0x80000000000U, 0x40000000000U, 0x4000000000000U,
    0x400000000000000U, 0x0U, 0x2000000000000000U, 0x200000000000U,
    0x1000000000U, 0x400000000U, 0x20000000000U, 0x200000000000000U, 0x0U
    }, { 0x1000000000000000U, 0x2000000000000000U, 0x20000000000000U,
    0x200000000000U, 0x100000000000U, 0x80000000000U, 0x8000000000000U,
    0x800000000000000U, 0x0U, 0x4000000000000000U, 0x400000000000U,
    0x2000000000U, 0x800000000U, 0x40000000000U, 0x400000000000000U, 0x0U }, {
    0x2000000000000000U, 0x4000000000000000U, 0x40000000000000U, 0x400000000000U,
    0x200000000000U, 0x100000000000U, 0x10000000000000U, 0x1000000000000000U,
    0x0U, 0x8000000000000000U, 0x800000000000U, 0x4000000000U, 0x1000000000U,
    0x80000000000U, 0x800000000000000U, 0x0U }, { 0x4000000000000000U,
    0x8000000000000000U, 0x80000000000000U, 0x800000000000U, 0x400000000000U,
    0x200000000000U, 0x20000000000000U, 0x2000000000000000U, 0x0U, 0x0U, 0x0U,
    0x8000000000U, 0x2000000000U, 0x100000000000U, 0x1000000000000000U,
    0x0U }, { 0x8000000000000000U, 0x0U, 0x0U, 0x0U, 0x800000000000U,
    0x400000000000U, 0x40000000000000U, 0x4000000000000000U, 0x0U, 0x0U, 0x0U,
    0x0U, 0x4000000000U, 0x200000000000U, 0x2000000000000000U, 0x0U }, { 0x0U,
    0x0U, 0x200000000000000U, 0x2000000000000U, 0x1000000000000U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x0U, 0x4000000000000U, 0x20000000000U, 0x0U, 0x0U, 0x0U, 0x0U
    }, { 0x0U, 0x0U, 0x400000000000000U, 0x4000000000000U, 0x2000000000000U,
    0x1000000000000U, 0x100000000000000U, 0x0U, 0x0U, 0x0U, 0x8000000000000U,
    0x40000000000U, 0x10000000000U, 0x0U, 0x0U, 0x0U }, { 0x0U, 0x0U,
    0x800000000000000U, 0x8000000000000U, 0x4000000000000U, 0x2000000000000U,
    0x200000000000000U, 0x0U, 0x0U, 0x0U, 0x10000000000000U, 0x80000000000U,
    0x20000000000U, 0x1000000000000U, 0x0U, 0x0U }, { 0x0U, 0x0U,
    0x1000000000000000U, 0x10000000000000U, 0x8000000000000U,
    0x4000000000000U, 0x400000000000000U, 0x0U, 0x0U, 0x0U, 0x20000000000000U,
    0x100000000000U, 0x40000000000U, 0x2000000000000U, 0x0U, 0x0U }, {
    0x0U, 0x0U, 0x2000000000000000U, 0x20000000000000U, 0x10000000000000U,
    0x8000000000000U, 0x800000000000000U, 0x0U, 0x0U, 0x0U, 0x40000000000000U,
    0x200000000000U, 0x80000000000U, 0x4000000000000U, 0x0U, 0x0U }, {
    0x0U, 0x0U, 0x4000000000000000U, 0x40000000000000U, 0x20000000000000U,
    0x10000000000000U, 0x1000000000000000U, 0x0U, 0x0U, 0x0U, 0x80000000000000U,
    0x400000000000U, 0x100000000000U, 0x8000000000000U, 0x0U, 0x0U }, { 0x0U, 0x0U,
    0x8000000000000000U, 0x80000000000000U, 0x40000000000000U, 0x20000000000000U,
    0x2000000000000000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x800000000000U, 0x200000000000U,
    0x10000000000000U, 0x0U, 0x0U }, { 0x0U, 0x0U, 0x0U, 0x0U, 0x80000000000000U,
    0x40000000000000U, 0x4000000000000000U, 0x0U, 0x0U, 0x0U, 0x0U, 0x0U,
    0x400000000000U, 0x20000000000000U, 0x0U, 0x0U } };

// APM stands for "All Possible (raw)Moves". The following string should
// logically be understood as the string array {"a1a2", "a1a3", ..., "h8h7"}
// with MAX_RAWCODE elements. The rawmove "g1f3" is included in APM_DATA
// because there exists a chessman that can move from g1 to f3. For the same
// reason there is no such rawmove as "e1d4".
const char APM_DATA[] =
    "a1a2a1a3a1a4a1a5a1a6a1a7a1a8a1b1a1b2a1b3a1c1a1c2a1c3a1d1a1d4a1e1"
    "a1e5a1f1a1f6a1g1a1g7a1h1a1h8a2a1a2a3a2a4a2a5a2a6a2a7a2a8a2b1a2b2"
    "a2b3a2b4a2c1a2c2a2c3a2c4a2d2a2d5a2e2a2e6a2f2a2f7a2g2a2g8a2h2a3a1"
    "a3a2a3a4a3a5a3a6a3a7a3a8a3b1a3b2a3b3a3b4a3b5a3c1a3c2a3c3a3c4a3c5"
    "a3d3a3d6a3e3a3e7a3f3a3f8a3g3a3h3a4a1a4a2a4a3a4a5a4a6a4a7a4a8a4b2"
    "a4b3a4b4a4b5a4b6a4c2a4c3a4c4a4c5a4c6a4d1a4d4a4d7a4e4a4e8a4f4a4g4"
    "a4h4a5a1a5a2a5a3a5a4a5a6a5a7a5a8a5b3a5b4a5b5a5b6a5b7a5c3a5c4a5c5"
    "a5c6a5c7a5d2a5d5a5d8a5e1a5e5a5f5a5g5a5h5a6a1a6a2a6a3a6a4a6a5a6a7"
    "a6a8a6b4a6b5a6b6a6b7a6b8a6c4a6c5a6c6a6c7a6c8a6d3a6d6a6e2a6e6a6f1"
    "a6f6a6g6a6h6a7a1a7a2a7a3a7a4a7a5a7a6a7a8a7b5a7b6a7b7a7b8a7c5a7c6"
    "a7c7a7c8a7d4a7d7a7e3a7e7a7f2a7f7a7g1a7g7a7h7a8a1a8a2a8a3a8a4a8a5"
    "a8a6a8a7a8b6a8b7a8b8a8c6a8c7a8c8a8d5a8d8a8e4a8e8a8f3a8f8a8g2a8g8"
    "a8h1a8h8b1a1b1a2b1a3b1b2b1b3b1b4b1b5b1b6b1b7b1b8b1c1b1c2b1c3b1d1"
    "b1d2b1d3b1e1b1e4b1f1b1f5b1g1b1g6b1h1b1h7b2a1b2a2b2a3b2a4b2b1b2b3"
    "b2b4b2b5b2b6b2b7b2b8b2c1b2c2b2c3b2c4b2d1b2d2b2d3b2d4b2e2b2e5b2f2"
    "b2f6b2g2b2g7b2h2b2h8b3a1b3a2b3a3b3a4b3a5b3b1b3b2b3b4b3b5b3b6b3b7"
    "b3b8b3c1b3c2b3c3b3c4b3c5b3d1b3d2b3d3b3d4b3d5b3e3b3e6b3f3b3f7b3g3"
    "b3g8b3h3b4a2b4a3b4a4b4a5b4a6b4b1b4b2b4b3b4b5b4b6b4b7b4b8b4c2b4c3"
    "b4c4b4c5b4c6b4d2b4d3b4d4b4d5b4d6b4e1b4e4b4e7b4f4b4f8b4g4b4h4b5a3"
    "b5a4b5a5b5a6b5a7b5b1b5b2b5b3b5b4b5b6b5b7b5b8b5c3b5c4b5c5b5c6b5c7"
    "b5d3b5d4b5d5b5d6b5d7b5e2b5e5b5e8b5f1b5f5b5g5b5h5b6a4b6a5b6a6b6a7"
    "b6a8b6b1b6b2b6b3b6b4b6b5b6b7b6b8b6c4b6c5b6c6b6c7b6c8b6d4b6d5b6d6"
    "b6d7b6d8b6e3b6e6b6f2b6f6b6g1b6g6b6h6b7a5b7a6b7a7b7a8b7b1b7b2b7b3"
    "b7b4b7b5b7b6b7b8b7c5b7c6b7c7b7c8b7d5b7d6b7d7b7d8b7e4b7e7b7f3b7f7"
    "b7g2b7g7b7h1b7h7b8a6b8a7b8a8b8b1b8b2b8b3b8b4b8b5b8b6b8b7b8c6b8c7"
    "b8c8b8d6b8d7b8d8b8e5b8e8b8f4b8f8b8g3b8g8b8h2b8h8c1a1c1a2c1a3c1b1"
    "c1b2c1b3c1c2c1c3c1c4c1c5c1c6c1c7c1c8c1d1c1d2c1d3c1e1c1e2c1e3c1f1"
    "c1f4c1g1c1g5c1h1c1h6c2a1c2a2c2a3c2a4c2b1c2b2c2b3c2b4c2c1c2c3c2c4"
    "c2c5c2c6c2c7c2c8c2d1c2d2c2d3c2d4c2e1c2e2c2e3c2e4c2f2c2f5c2g2c2g6"
    "c2h2c2h7c3a1c3a2c3a3c3a4c3a5c3b1c3b2c3b3c3b4c3b5c3c1c3c2c3c4c3c5"
    "c3c6c3c7c3c8c3d1c3d2c3d3c3d4c3d5c3e1c3e2c3e3c3e4c3e5c3f3c3f6c3g3"
    "c3g7c3h3c3h8c4a2c4a3c4a4c4a5c4a6c4b2c4b3c4b4c4b5c4b6c4c1c4c2c4c3"
    "c4c5c4c6c4c7c4c8c4d2c4d3c4d4c4d5c4d6c4e2c4e3c4e4c4e5c4e6c4f1c4f4"
    "c4f7c4g4c4g8c4h4c5a3c5a4c5a5c5a6c5a7c5b3c5b4c5b5c5b6c5b7c5c1c5c2"
    "c5c3c5c4c5c6c5c7c5c8c5d3c5d4c5d5c5d6c5d7c5e3c5e4c5e5c5e6c5e7c5f2"
    "c5f5c5f8c5g1c5g5c5h5c6a4c6a5c6a6c6a7c6a8c6b4c6b5c6b6c6b7c6b8c6c1"
    "c6c2c6c3c6c4c6c5c6c7c6c8c6d4c6d5c6d6c6d7c6d8c6e4c6e5c6e6c6e7c6e8"
    "c6f3c6f6c6g2c6g6c6h1c6h6c7a5c7a6c7a7c7a8c7b5c7b6c7b7c7b8c7c1c7c2"
    "c7c3c7c4c7c5c7c6c7c8c7d5c7d6c7d7c7d8c7e5c7e6c7e7c7e8c7f4c7f7c7g3"
    "c7g7c7h2c7h7c8a6c8a7c8a8c8b6c8b7c8b8c8c1c8c2c8c3c8c4c8c5c8c6c8c7"
    "c8d6c8d7c8d8c8e6c8e7c8e8c8f5c8f8c8g4c8g8c8h3c8h8d1a1d1a4d1b1d1b2"
    "d1b3d1c1d1c2d1c3d1d2d1d3d1d4d1d5d1d6d1d7d1d8d1e1d1e2d1e3d1f1d1f2"
    "d1f3d1g1d1g4d1h1d1h5d2a2d2a5d2b1d2b2d2b3d2b4d2c1d2c2d2c3d2c4d2d1"
    "d2d3d2d4d2d5d2d6d2d7d2d8d2e1d2e2d2e3d2e4d2f1d2f2d2f3d2f4d2g2d2g5"
    "d2h2d2h6d3a3d3a6d3b1d3b2d3b3d3b4d3b5d3c1d3c2d3c3d3c4d3c5d3d1d3d2"
    "d3d4d3d5d3d6d3d7d3d8d3e1d3e2d3e3d3e4d3e5d3f1d3f2d3f3d3f4d3f5d3g3"
    "d3g6d3h3d3h7d4a1d4a4d4a7d4b2d4b3d4b4d4b5d4b6d4c2d4c3d4c4d4c5d4c6"
    "d4d1d4d2d4d3d4d5d4d6d4d7d4d8d4e2d4e3d4e4d4e5d4e6d4f2d4f3d4f4d4f5"
    "d4f6d4g1d4g4d4g7d4h4d4h8d5a2d5a5d5a8d5b3d5b4d5b5d5b6d5b7d5c3d5c4"
    "d5c5d5c6d5c7d5d1d5d2d5d3d5d4d5d6d5d7d5d8d5e3d5e4d5e5d5e6d5e7d5f3"
    "d5f4d5f5d5f6d5f7d5g2d5g5d5g8d5h1d5h5d6a3d6a6d6b4d6b5d6b6d6b7d6b8"
    "d6c4d6c5d6c6d6c7d6c8d6d1d6d2d6d3d6d4d6d5d6d7d6d8d6e4d6e5d6e6d6e7"
    "d6e8d6f4d6f5d6f6d6f7d6f8d6g3d6g6d6h2d6h6d7a4d7a7d7b5d7b6d7b7d7b8"
    "d7c5d7c6d7c7d7c8d7d1d7d2d7d3d7d4d7d5d7d6d7d8d7e5d7e6d7e7d7e8d7f5"
    "d7f6d7f7d7f8d7g4d7g7d7h3d7h7d8a5d8a8d8b6d8b7d8b8d8c6d8c7d8c8d8d1"
    "d8d2d8d3d8d4d8d5d8d6d8d7d8e6d8e7d8e8d8f6d8f7d8f8d8g5d8g8d8h4d8h8"
    "e1a1e1a5e1b1e1b4e1c1e1c2e1c3e1d1e1d2e1d3e1e2e1e3e1e4e1e5e1e6e1e7"
    "e1e8e1f1e1f2e1f3e1g1e1g2e1g3e1h1e1h4e2a2e2a6e2b2e2b5e2c1e2c2e2c3"
    "e2c4e2d1e2d2e2d3e2d4e2e1e2e3e2e4e2e5e2e6e2e7e2e8e2f1e2f2e2f3e2f4"
    "e2g1e2g2e2g3e2g4e2h2e2h5e3a3e3a7e3b3e3b6e3c1e3c2e3c3e3c4e3c5e3d1"
    "e3d2e3d3e3d4e3d5e3e1e3e2e3e4e3e5e3e6e3e7e3e8e3f1e3f2e3f3e3f4e3f5"
    "e3g1e3g2e3g3e3g4e3g5e3h3e3h6e4a4e4a8e4b1e4b4e4b7e4c2e4c3e4c4e4c5"
    "e4c6e4d2e4d3e4d4e4d5e4d6e4e1e4e2e4e3e4e5e4e6e4e7e4e8e4f2e4f3e4f4"
    "e4f5e4f6e4g2e4g3e4g4e4g5e4g6e4h1e4h4e4h7e5a1e5a5e5b2e5b5e5b8e5c3"
    "e5c4e5c5e5c6e5c7e5d3e5d4e5d5e5d6e5d7e5e1e5e2e5e3e5e4e5e6e5e7e5e8"
    "e5f3e5f4e5f5e5f6e5f7e5g3e5g4e5g5e5g6e5g7e5h2e5h5e5h8e6a2e6a6e6b3"
    "e6b6e6c4e6c5e6c6e6c7e6c8e6d4e6d5e6d6e6d7e6d8e6e1e6e2e6e3e6e4e6e5"
    "e6e7e6e8e6f4e6f5e6f6e6f7e6f8e6g4e6g5e6g6e6g7e6g8e6h3e6h6e7a3e7a7"
    "e7b4e7b7e7c5e7c6e7c7e7c8e7d5e7d6e7d7e7d8e7e1e7e2e7e3e7e4e7e5e7e6"
    "e7e8e7f5e7f6e7f7e7f8e7g5e7g6e7g7e7g8e7h4e7h7e8a4e8a8e8b5e8b8e8c6"
    "e8c7e8c8e8d6e8d7e8d8e8e1e8e2e8e3e8e4e8e5e8e6e8e7e8f6e8f7e8f8e8g6"
    "e8g7e8g8e8h5e8h8f1a1f1a6f1b1f1b5f1c1f1c4f1d1f1d2f1d3f1e1f1e2f1e3"
    "f1f2f1f3f1f4f1f5f1f6f1f7f1f8f1g1f1g2f1g3f1h1f1h2f1h3f2a2f2a7f2b2"
    "f2b6f2c2f2c5f2d1f2d2f2d3f2d4f2e1f2e2f2e3f2e4f2f1f2f3f2f4f2f5f2f6"
    "f2f7f2f8f2g1f2g2f2g3f2g4f2h1f2h2f2h3f2h4f3a3f3a8f3b3f3b7f3c3f3c6"
    "f3d1f3d2f3d3f3d4f3d5f3e1f3e2f3e3f3e4f3e5f3f1f3f2f3f4f3f5f3f6f3f7"
    "f3f8f3g1f3g2f3g3f3g4f3g5f3h1f3h2f3h3f3h4f3h5f4a4f4b4f4b8f4c1f4c4"
    "f4c7f4d2f4d3f4d4f4d5f4d6f4e2f4e3f4e4f4e5f4e6f4f1f4f2f4f3f4f5f4f6"
    "f4f7f4f8f4g2f4g3f4g4f4g5f4g6f4h2f4h3f4h4f4h5f4h6f5a5f5b1f5b5f5c2"
    "f5c5f5c8f5d3f5d4f5d5f5d6f5d7f5e3f5e4f5e5f5e6f5e7f5f1f5f2f5f3f5f4"
    "f5f6f5f7f5f8f5g3f5g4f5g5f5g6f5g7f5h3f5h4f5h5f5h6f5h7f6a1f6a6f6b2"
    "f6b6f6c3f6c6f6d4f6d5f6d6f6d7f6d8f6e4f6e5f6e6f6e7f6e8f6f1f6f2f6f3"
    "f6f4f6f5f6f7f6f8f6g4f6g5f6g6f6g7f6g8f6h4f6h5f6h6f6h7f6h8f7a2f7a7"
    "f7b3f7b7f7c4f7c7f7d5f7d6f7d7f7d8f7e5f7e6f7e7f7e8f7f1f7f2f7f3f7f4"
    "f7f5f7f6f7f8f7g5f7g6f7g7f7g8f7h5f7h6f7h7f7h8f8a3f8a8f8b4f8b8f8c5"
    "f8c8f8d6f8d7f8d8f8e6f8e7f8e8f8f1f8f2f8f3f8f4f8f5f8f6f8f7f8g6f8g7"
    "f8g8f8h6f8h7f8h8g1a1g1a7g1b1g1b6g1c1g1c5g1d1g1d4g1e1g1e2g1e3g1f1"
    "g1f2g1f3g1g2g1g3g1g4g1g5g1g6g1g7g1g8g1h1g1h2g1h3g2a2g2a8g2b2g2b7"
    "g2c2g2c6g2d2g2d5g2e1g2e2g2e3g2e4g2f1g2f2g2f3g2f4g2g1g2g3g2g4g2g5"
    "g2g6g2g7g2g8g2h1g2h2g2h3g2h4g3a3g3b3g3b8g3c3g3c7g3d3g3d6g3e1g3e2"
    "g3e3g3e4g3e5g3f1g3f2g3f3g3f4g3f5g3g1g3g2g3g4g3g5g3g6g3g7g3g8g3h1"
    "g3h2g3h3g3h4g3h5g4a4g4b4g4c4g4c8g4d1g4d4g4d7g4e2g4e3g4e4g4e5g4e6"
    "g4f2g4f3g4f4g4f5g4f6g4g1g4g2g4g3g4g5g4g6g4g7g4g8g4h2g4h3g4h4g4h5"
    "g4h6g5a5g5b5g5c1g5c5g5d2g5d5g5d8g5e3g5e4g5e5g5e6g5e7g5f3g5f4g5f5"
    "g5f6g5f7g5g1g5g2g5g3g5g4g5g6g5g7g5g8g5h3g5h4g5h5g5h6g5h7g6a6g6b1"
    "g6b6g6c2g6c6g6d3g6d6g6e4g6e5g6e6g6e7g6e8g6f4g6f5g6f6g6f7g6f8g6g1"
    "g6g2g6g3g6g4g6g5g6g7g6g8g6h4g6h5g6h6g6h7g6h8g7a1g7a7g7b2g7b7g7c3"
    "g7c7g7d4g7d7g7e5g7e6g7e7g7e8g7f5g7f6g7f7g7f8g7g1g7g2g7g3g7g4g7g5"
    "g7g6g7g8g7h5g7h6g7h7g7h8g8a2g8a8g8b3g8b8g8c4g8c8g8d5g8d8g8e6g8e7"
    "g8e8g8f6g8f7g8f8g8g1g8g2g8g3g8g4g8g5g8g6g8g7g8h6g8h7g8h8h1a1h1a8"
    "h1b1h1b7h1c1h1c6h1d1h1d5h1e1h1e4h1f1h1f2h1f3h1g1h1g2h1g3h1h2h1h3"
    "h1h4h1h5h1h6h1h7h1h8h2a2h2b2h2b8h2c2h2c7h2d2h2d6h2e2h2e5h2f1h2f2"
    "h2f3h2f4h2g1h2g2h2g3h2g4h2h1h2h3h2h4h2h5h2h6h2h7h2h8h3a3h3b3h3c3"
    "h3c8h3d3h3d7h3e3h3e6h3f1h3f2h3f3h3f4h3f5h3g1h3g2h3g3h3g4h3g5h3h1"
    "h3h2h3h4h3h5h3h6h3h7h3h8h4a4h4b4h4c4h4d4h4d8h4e1h4e4h4e7h4f2h4f3"
    "h4f4h4f5h4f6h4g2h4g3h4g4h4g5h4g6h4h1h4h2h4h3h4h5h4h6h4h7h4h8h5a5"
    "h5b5h5c5h5d1h5d5h5e2h5e5h5e8h5f3h5f4h5f5h5f6h5f7h5g3h5g4h5g5h5g6"
    "h5g7h5h1h5h2h5h3h5h4h5h6h5h7h5h8h6a6h6b6h6c1h6c6h6d2h6d6h6e3h6e6"
    "h6f4h6f5h6f6h6f7h6f8h6g4h6g5h6g6h6g7h6g8h6h1h6h2h6h3h6h4h6h5h6h7"
    "h6h8h7a7h7b1h7b7h7c2h7c7h7d3h7d7h7e4h7e7h7f5h7f6h7f7h7f8h7g5h7g6"
    "h7g7h7g8h7h1h7h2h7h3h7h4h7h5h7h6h7h8h8a1h8a8h8b2h8b8h8c3h8c8h8d4"
    "h8d8h8e5h8e8h8f6h8f7h8f8h8g6h8g7h8g8h8h1h8h2h8h3h8h4h8h5h8h6h8h7";

// Rawcodes are integers in the range [1, 1792]. The number of rawcodes
// is MAX_RAWCODE.
const Rawcode MIN_RAWCODE = 1, MAX_RAWCODE = 1792;

// Rawcode origin square bit indexes. A rawcode such as 1 = rawcode("a1a2")
// is a representation of two squares, namely the origin square and the
// destination square. In the case of rawcode 1 the origin square is "a1"
// and the destination square is "a2". The following array is indexed with
// rawcodes (1 <= rawcode <= 1792). RC_ORIG_SQ_BINDEX[1] indicates the
// origin square of rawcode 1 and RC_ORIG_SQ_BINDEX[1792] indicates the
// origin square of rawcode 1792.
const int8_t RC_ORIG_SQ_BINDEX[] = {
    -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8,
    8, 8, 8, 8, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 24, 24, 24, 24,
    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
    24, 24, 24, 24, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
    32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 40, 40, 40, 40, 40,
    40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,
    40, 40, 40, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48,
    48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 56, 56, 56, 56, 56, 56, 56,
    56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
    17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
    25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
    25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 33, 33, 33, 33, 33,
    33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
    33, 33, 33, 33, 33, 33, 33, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
    41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
    41, 41, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49,
    49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 57, 57, 57, 57, 57,
    57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57,
    57, 57, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 18,
    18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18,
    18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 26, 26,
    26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
    26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 34, 34, 34,
    34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
    34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 42, 42, 42, 42,
    42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
    42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 50, 50, 50, 50, 50,
    50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50,
    50, 50, 50, 50, 50, 50, 50, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58,
    58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 19, 19, 19, 19,
    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19,
    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 27, 27, 27, 27, 27,
    27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
    27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 35, 35, 35, 35,
    35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35,
    35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 43, 43, 43,
    43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43,
    43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 51, 51, 51, 51,
    51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51,
    51, 51, 51, 51, 51, 51, 51, 51, 59, 59, 59, 59, 59, 59, 59, 59, 59,
    59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 59, 4,
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    4, 4, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 28,
    28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
    28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
    28, 28, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
    36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
    36, 36, 36, 36, 36, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44,
    44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44,
    44, 44, 44, 44, 44, 44, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52,
    52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52,
    52, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,
    60, 60, 60, 60, 60, 60, 60, 60, 60, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 13, 13, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
    21, 21, 21, 21, 21, 21, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
    29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
    29, 29, 29, 29, 29, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37,
    37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37,
    37, 37, 37, 37, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45,
    45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45,
    45, 45, 45, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53,
    53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 61, 61,
    61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61,
    61, 61, 61, 61, 61, 61, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
    6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 14, 14, 14, 14, 14, 14, 14, 14, 14,
    14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
    14, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 30, 30, 30, 30,
    30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30,
    30, 30, 30, 30, 30, 30, 30, 30, 38, 38, 38, 38, 38, 38, 38, 38, 38,
    38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38,
    38, 38, 38, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46,
    46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 54, 54,
    54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54,
    54, 54, 54, 54, 54, 54, 54, 54, 62, 62, 62, 62, 62, 62, 62, 62, 62,
    62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 62, 7, 7,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 15,
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 31, 31, 31,
    31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
    31, 31, 31, 31, 31, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39,
    39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 47, 47, 47, 47,
    47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47,
    47, 47, 47, 47, 55, 55, 55, 55, 55, 55, 55, 55, 55, 55, 55, 55, 55,
    55, 55, 55, 55, 55, 55, 55, 55, 55, 55, 55, 63, 63, 63, 63, 63, 63,
    63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63 };

// (See comment of RC_ORIG_SQ_BINDEX[].)
const int8_t RC_DEST_SQ_BINDEX[] = {
    -1, 8, 16, 24, 32, 40, 48, 56, 1, 9, 17, 2, 10, 18, 3, 27, 4, 36, 5,
    45, 6, 54, 7, 63, 0, 16, 24, 32, 40, 48, 56, 1, 9, 17, 25, 2, 10,
    18, 26, 11, 35, 12, 44, 13, 53, 14, 62, 15, 0, 8, 24, 32, 40, 48,
    56, 1, 9, 17, 25, 33, 2, 10, 18, 26, 34, 19, 43, 20, 52, 21, 61,
    22, 23, 0, 8, 16, 32, 40, 48, 56, 9, 17, 25, 33, 41, 10, 18, 26,
    34, 42, 3, 27, 51, 28, 60, 29, 30, 31, 0, 8, 16, 24, 40, 48, 56,
    17, 25, 33, 41, 49, 18, 26, 34, 42, 50, 11, 35, 59, 4, 36, 37, 38,
    39, 0, 8, 16, 24, 32, 48, 56, 25, 33, 41, 49, 57, 26, 34, 42, 50,
    58, 19, 43, 12, 44, 5, 45, 46, 47, 0, 8, 16, 24, 32, 40, 56, 33,
    41, 49, 57, 34, 42, 50, 58, 27, 51, 20, 52, 13, 53, 6, 54, 55, 0,
    8, 16, 24, 32, 40, 48, 41, 49, 57, 42, 50, 58, 35, 59, 28, 60, 21,
    61, 14, 62, 7, 63, 0, 8, 16, 9, 17, 25, 33, 41, 49, 57, 2, 10, 18,
    3, 11, 19, 4, 28, 5, 37, 6, 46, 7, 55, 0, 8, 16, 24, 1, 17, 25, 33,
    41, 49, 57, 2, 10, 18, 26, 3, 11, 19, 27, 12, 36, 13, 45, 14, 54,
    15, 63, 0, 8, 16, 24, 32, 1, 9, 25, 33, 41, 49, 57, 2, 10, 18, 26,
    34, 3, 11, 19, 27, 35, 20, 44, 21, 53, 22, 62, 23, 8, 16, 24, 32,
    40, 1, 9, 17, 33, 41, 49, 57, 10, 18, 26, 34, 42, 11, 19, 27, 35,
    43, 4, 28, 52, 29, 61, 30, 31, 16, 24, 32, 40, 48, 1, 9, 17, 25,
    41, 49, 57, 18, 26, 34, 42, 50, 19, 27, 35, 43, 51, 12, 36, 60, 5,
    37, 38, 39, 24, 32, 40, 48, 56, 1, 9, 17, 25, 33, 49, 57, 26, 34,
    42, 50, 58, 27, 35, 43, 51, 59, 20, 44, 13, 45, 6, 46, 47, 32, 40,
    48, 56, 1, 9, 17, 25, 33, 41, 57, 34, 42, 50, 58, 35, 43, 51, 59,
    28, 52, 21, 53, 14, 54, 7, 55, 40, 48, 56, 1, 9, 17, 25, 33, 41,
    49, 42, 50, 58, 43, 51, 59, 36, 60, 29, 61, 22, 62, 15, 63, 0, 8,
    16, 1, 9, 17, 10, 18, 26, 34, 42, 50, 58, 3, 11, 19, 4, 12, 20,
    5, 29, 6, 38, 7, 47, 0, 8, 16, 24, 1, 9, 17, 25, 2, 18, 26, 34,
    42, 50, 58, 3, 11, 19, 27, 4, 12, 20, 28, 13, 37, 14, 46, 15, 55,
    0, 8, 16, 24, 32, 1, 9, 17, 25, 33, 2, 10, 26, 34, 42, 50, 58, 3,
    11, 19, 27, 35, 4, 12, 20, 28, 36, 21, 45, 22, 54, 23, 63, 8, 16,
    24, 32, 40, 9, 17, 25, 33, 41, 2, 10, 18, 34, 42, 50, 58, 11, 19,
    27, 35, 43, 12, 20, 28, 36, 44, 5, 29, 53, 30, 62, 31, 16, 24, 32,
    40, 48, 17, 25, 33, 41, 49, 2, 10, 18, 26, 42, 50, 58, 19, 27, 35,
    43, 51, 20, 28, 36, 44, 52, 13, 37, 61, 6, 38, 39, 24, 32, 40, 48,
    56, 25, 33, 41, 49, 57, 2, 10, 18, 26, 34, 50, 58, 27, 35, 43, 51,
    59, 28, 36, 44, 52, 60, 21, 45, 14, 46, 7, 47, 32, 40, 48, 56, 33,
    41, 49, 57, 2, 10, 18, 26, 34, 42, 58, 35, 43, 51, 59, 36, 44, 52,
    60, 29, 53, 22, 54, 15, 55, 40, 48, 56, 41, 49, 57, 2, 10, 18, 26,
    34, 42, 50, 43, 51, 59, 44, 52, 60, 37, 61, 30, 62, 23, 63, 0, 24,
    1, 9, 17, 2, 10, 18, 11, 19, 27, 35, 43, 51, 59, 4, 12, 20, 5, 13,
    21, 6, 30, 7, 39, 8, 32, 1, 9, 17, 25, 2, 10, 18, 26, 3, 19, 27,
    35, 43, 51, 59, 4, 12, 20, 28, 5, 13, 21, 29, 14, 38, 15, 47, 16,
    40, 1, 9, 17, 25, 33, 2, 10, 18, 26, 34, 3, 11, 27, 35, 43, 51, 59,
    4, 12, 20, 28, 36, 5, 13, 21, 29, 37, 22, 46, 23, 55, 0, 24, 48, 9,
    17, 25, 33, 41, 10, 18, 26, 34, 42, 3, 11, 19, 35, 43, 51, 59, 12,
    20, 28, 36, 44, 13, 21, 29, 37, 45, 6, 30, 54, 31, 63, 8, 32, 56,
    17, 25, 33, 41, 49, 18, 26, 34, 42, 50, 3, 11, 19, 27, 43, 51, 59,
    20, 28, 36, 44, 52, 21, 29, 37, 45, 53, 14, 38, 62, 7, 39, 16, 40,
    25, 33, 41, 49, 57, 26, 34, 42, 50, 58, 3, 11, 19, 27, 35, 51, 59,
    28, 36, 44, 52, 60, 29, 37, 45, 53, 61, 22, 46, 15, 47, 24, 48, 33,
    41, 49, 57, 34, 42, 50, 58, 3, 11, 19, 27, 35, 43, 59, 36, 44, 52,
    60, 37, 45, 53, 61, 30, 54, 23, 55, 32, 56, 41, 49, 57, 42, 50, 58,
    3, 11, 19, 27, 35, 43, 51, 44, 52, 60, 45, 53, 61, 38, 62, 31, 63,
    0, 32, 1, 25, 2, 10, 18, 3, 11, 19, 12, 20, 28, 36, 44, 52, 60, 5,
    13, 21, 6, 14, 22, 7, 31, 8, 40, 9, 33, 2, 10, 18, 26, 3, 11, 19,
    27, 4, 20, 28, 36, 44, 52, 60, 5, 13, 21, 29, 6, 14, 22, 30, 15,
    39, 16, 48, 17, 41, 2, 10, 18, 26, 34, 3, 11, 19, 27, 35, 4, 12,
    28, 36, 44, 52, 60, 5, 13, 21, 29, 37, 6, 14, 22, 30, 38, 23, 47,
    24, 56, 1, 25, 49, 10, 18, 26, 34, 42, 11, 19, 27, 35, 43, 4, 12,
    20, 36, 44, 52, 60, 13, 21, 29, 37, 45, 14, 22, 30, 38, 46, 7, 31,
    55, 0, 32, 9, 33, 57, 18, 26, 34, 42, 50, 19, 27, 35, 43, 51, 4,
    12, 20, 28, 44, 52, 60, 21, 29, 37, 45, 53, 22, 30, 38, 46, 54,
    15, 39, 63, 8, 40, 17, 41, 26, 34, 42, 50, 58, 27, 35, 43, 51, 59,
    4, 12, 20, 28, 36, 52, 60, 29, 37, 45, 53, 61, 30, 38, 46, 54, 62,
    23, 47, 16, 48, 25, 49, 34, 42, 50, 58, 35, 43, 51, 59, 4, 12, 20,
    28, 36, 44, 60, 37, 45, 53, 61, 38, 46, 54, 62, 31, 55, 24, 56, 33,
    57, 42, 50, 58, 43, 51, 59, 4, 12, 20, 28, 36, 44, 52, 45, 53, 61,
    46, 54, 62, 39, 63, 0, 40, 1, 33, 2, 26, 3, 11, 19, 4, 12, 20, 13,
    21, 29, 37, 45, 53, 61, 6, 14, 22, 7, 15, 23, 8, 48, 9, 41, 10,
    34, 3, 11, 19, 27, 4, 12, 20, 28, 5, 21, 29, 37, 45, 53, 61, 6,
    14, 22, 30, 7, 15, 23, 31, 16, 56, 17, 49, 18, 42, 3, 11, 19, 27,
    35, 4, 12, 20, 28, 36, 5, 13, 29, 37, 45, 53, 61, 6, 14, 22, 30,
    38, 7, 15, 23, 31, 39, 24, 25, 57, 2, 26, 50, 11, 19, 27, 35, 43,
    12, 20, 28, 36, 44, 5, 13, 21, 37, 45, 53, 61, 14, 22, 30, 38, 46,
    15, 23, 31, 39, 47, 32, 1, 33, 10, 34, 58, 19, 27, 35, 43, 51, 20,
    28, 36, 44, 52, 5, 13, 21, 29, 45, 53, 61, 22, 30, 38, 46, 54, 23,
    31, 39, 47, 55, 0, 40, 9, 41, 18, 42, 27, 35, 43, 51, 59, 28, 36,
    44, 52, 60, 5, 13, 21, 29, 37, 53, 61, 30, 38, 46, 54, 62, 31, 39,
    47, 55, 63, 8, 48, 17, 49, 26, 50, 35, 43, 51, 59, 36, 44, 52, 60,
    5, 13, 21, 29, 37, 45, 61, 38, 46, 54, 62, 39, 47, 55, 63, 16, 56,
    25, 57, 34, 58, 43, 51, 59, 44, 52, 60, 5, 13, 21, 29, 37, 45, 53,
    46, 54, 62, 47, 55, 63, 0, 48, 1, 41, 2, 34, 3, 27, 4, 12, 20, 5,
    13, 21, 14, 22, 30, 38, 46, 54, 62, 7, 15, 23, 8, 56, 9, 49, 10,
    42, 11, 35, 4, 12, 20, 28, 5, 13, 21, 29, 6, 22, 30, 38, 46, 54,
    62, 7, 15, 23, 31, 16, 17, 57, 18, 50, 19, 43, 4, 12, 20, 28, 36,
    5, 13, 21, 29, 37, 6, 14, 30, 38, 46, 54, 62, 7, 15, 23, 31, 39,
    24, 25, 26, 58, 3, 27, 51, 12, 20, 28, 36, 44, 13, 21, 29, 37, 45,
    6, 14, 22, 38, 46, 54, 62, 15, 23, 31, 39, 47, 32, 33, 2, 34, 11,
    35, 59, 20, 28, 36, 44, 52, 21, 29, 37, 45, 53, 6, 14, 22, 30, 46,
    54, 62, 23, 31, 39, 47, 55, 40, 1, 41, 10, 42, 19, 43, 28, 36, 44,
    52, 60, 29, 37, 45, 53, 61, 6, 14, 22, 30, 38, 54, 62, 31, 39, 47,
    55, 63, 0, 48, 9, 49, 18, 50, 27, 51, 36, 44, 52, 60, 37, 45, 53,
    61, 6, 14, 22, 30, 38, 46, 62, 39, 47, 55, 63, 8, 56, 17, 57, 26,
    58, 35, 59, 44, 52, 60, 45, 53, 61, 6, 14, 22, 30, 38, 46, 54, 47,
    55, 63, 0, 56, 1, 49, 2, 42, 3, 35, 4, 28, 5, 13, 21, 6, 14, 22,
    15, 23, 31, 39, 47, 55, 63, 8, 9, 57, 10, 50, 11, 43, 12, 36, 5,
    13, 21, 29, 6, 14, 22, 30, 7, 23, 31, 39, 47, 55, 63, 16, 17, 18,
    58, 19, 51, 20, 44, 5, 13, 21, 29, 37, 6, 14, 22, 30, 38, 7, 15,
    31, 39, 47, 55, 63, 24, 25, 26, 27, 59, 4, 28, 52, 13, 21, 29, 37,
    45, 14, 22, 30, 38, 46, 7, 15, 23, 39, 47, 55, 63, 32, 33, 34, 3,
    35, 12, 36, 60, 21, 29, 37, 45, 53, 22, 30, 38, 46, 54, 7, 15, 23,
    31, 47, 55, 63, 40, 41, 2, 42, 11, 43, 20, 44, 29, 37, 45, 53, 61,
    30, 38, 46, 54, 62, 7, 15, 23, 31, 39, 55, 63, 48, 1, 49, 10, 50,
    19, 51, 28, 52, 37, 45, 53, 61, 38, 46, 54, 62, 7, 15, 23, 31, 39,
    47, 63, 0, 56, 9, 57, 18, 58, 27, 59, 36, 60, 45, 53, 61, 46, 54,
    62, 7, 15, 23, 31, 39, 47, 55 };

// Used to find the rawcode that corresponds to the bit index pair
// (orig, dest) where 0 <= orig, dest <= 63. For example, the pair
// (0, 8) maps to rawcode("a1a2") because bit index 0 stands for
// square a1 and bit index 8 stands for square a2. Invalid
// (orig, dest) pairs map to the value 0 which is not a valid rawcode.
const Rawcode ORIG_DEST_RC[64][64] = {
    {0, 8, 11, 14, 16, 18, 20, 22, 1, 9, 12, 0, 0, 0, 0, 0, 2, 10, 13, 0, 0,
    0, 0, 0, 3, 0, 0, 15, 0, 0, 0, 0, 4, 0, 0, 0, 17, 0, 0, 0, 5, 0, 0, 0,
    0, 19, 0, 0, 6, 0, 0, 0, 0, 0, 21, 0, 7, 0, 0, 0, 0, 0, 0, 23}, {195,
    0, 205, 208, 211, 213, 215, 217, 196, 198, 206, 209, 0, 0, 0, 0, 197,
    199, 207, 210, 0, 0, 0, 0, 0, 200, 0, 0, 212, 0, 0, 0, 0, 201, 0, 0,
    0, 214, 0, 0, 0, 202, 0, 0, 0, 0, 216, 0, 0, 203, 0, 0, 0, 0, 0, 218,
    0, 204, 0, 0, 0, 0, 0, 0}, {413, 416, 0, 426, 429, 432, 434, 436, 414,
    417, 419, 427, 430, 0, 0, 0, 415, 418, 420, 428, 431, 0, 0, 0, 0, 0,
    421, 0, 0, 433, 0, 0, 0, 0, 422, 0, 0, 0, 435, 0, 0, 0, 423, 0, 0, 0,
    0, 437, 0, 0, 424, 0, 0, 0, 0, 0, 0, 0, 425, 0, 0, 0, 0, 0}, {653, 655,
    658, 0, 668, 671, 674, 676, 0, 656, 659, 661, 669, 672, 0, 0, 0, 657,
    660, 662, 670, 673, 0, 0, 654, 0, 0, 663, 0, 0, 675, 0, 0, 0, 0, 664,
    0, 0, 0, 677, 0, 0, 0, 665, 0, 0, 0, 0, 0, 0, 0, 666, 0, 0, 0, 0, 0, 0,
    0, 667, 0, 0, 0, 0}, {897, 899, 901, 904, 0, 914, 917, 920, 0, 0, 902,
    905, 907, 915, 918, 0, 0, 0, 903, 906, 908, 916, 919, 0, 0, 900, 0, 0,
    909, 0, 0, 921, 898, 0, 0, 0, 910, 0, 0, 0, 0, 0, 0, 0, 911, 0, 0, 0,
    0, 0, 0, 0, 912, 0, 0, 0, 0, 0, 0, 0, 913, 0, 0, 0}, {1141, 1143, 1145,
    1147, 1150, 0, 1160, 1163, 0, 0, 0, 1148, 1151, 1153, 1161, 1164, 0, 0,
    0, 1149, 1152, 1154, 1162, 1165, 0, 0, 1146, 0, 0, 1155, 0, 0, 0, 1144,
    0, 0, 0, 1156, 0, 0, 1142, 0, 0, 0, 0, 1157, 0, 0, 0, 0, 0, 0, 0, 1158,
    0, 0, 0, 0, 0, 0, 0, 1159, 0, 0}, {1381, 1383, 1385, 1387, 1389, 1392,
    0, 1402, 0, 0, 0, 0, 1390, 1393, 1395, 1403, 0, 0, 0, 0, 1391, 1394,
    1396, 1404, 0, 0, 0, 1388, 0, 0, 1397, 0, 0, 0, 1386, 0, 0, 0, 1398, 0,
    0, 1384, 0, 0, 0, 0, 1399, 0, 1382, 0, 0, 0, 0, 0, 1400, 0, 0, 0, 0, 0,
    0, 0, 1401, 0}, {1599, 1601, 1603, 1605, 1607, 1609, 1612, 0, 0, 0, 0, 0,
    0, 1610, 1613, 1615, 0, 0, 0, 0, 0, 1611, 1614, 1616, 0, 0, 0, 0, 1608,
    0, 0, 1617, 0, 0, 0, 1606, 0, 0, 0, 1618, 0, 0, 1604, 0, 0, 0, 0, 1619,
    0, 1602, 0, 0, 0, 0, 0, 1620, 1600, 0, 0, 0, 0, 0, 0, 1621}, {24, 31,
    35, 0, 0, 0, 0, 0, 0, 32, 36, 39, 41, 43, 45, 47, 25, 33, 37, 0, 0, 0,
    0, 0, 26, 34, 38, 0, 0, 0, 0, 0, 27, 0, 0, 40, 0, 0, 0, 0, 28, 0, 0, 0,
    42, 0, 0, 0, 29, 0, 0, 0, 0, 44, 0, 0, 30, 0, 0, 0, 0, 0, 46, 0}, {219,
    223, 230, 234, 0, 0, 0, 0, 220, 0, 231, 235, 238, 240, 242, 244, 221,
    224, 232, 236, 0, 0, 0, 0, 222, 225, 233, 237, 0, 0, 0, 0, 0, 226, 0,
    0, 239, 0, 0, 0, 0, 227, 0, 0, 0, 241, 0, 0, 0, 228, 0, 0, 0, 0, 243,
    0, 0, 229, 0, 0, 0, 0, 0, 245}, {438, 442, 446, 453, 457, 0, 0, 0, 439,
    443, 0, 454, 458, 461, 463, 465, 440, 444, 447, 455, 459, 0, 0, 0, 441,
    445, 448, 456, 460, 0, 0, 0, 0, 0, 449, 0, 0, 462, 0, 0, 0, 0, 450, 0,
    0, 0, 464, 0, 0, 0, 451, 0, 0, 0, 0, 466, 0, 0, 452, 0, 0, 0, 0, 0}, {0,
    680, 684, 688, 695, 699, 0, 0, 678, 681, 685, 0, 696, 700, 703, 705, 0,
    682, 686, 689, 697, 701, 0, 0, 0, 683, 687, 690, 698, 702, 0, 0, 679,
    0, 0, 691, 0, 0, 704, 0, 0, 0, 0, 692, 0, 0, 0, 706, 0, 0, 0, 693, 0,
    0, 0, 0, 0, 0, 0, 694, 0, 0, 0, 0}, {0, 0, 926, 930, 934, 941, 945, 0,
    922, 924, 927, 931, 0, 942, 946, 949, 0, 0, 928, 932, 935, 943, 947, 0,
    0, 0, 929, 933, 936, 944, 948, 0, 0, 925, 0, 0, 937, 0, 0, 950, 923, 0,
    0, 0, 938, 0, 0, 0, 0, 0, 0, 0, 939, 0, 0, 0, 0, 0, 0, 0, 940, 0, 0, 0},
    {0, 0, 0, 1172, 1176, 1180, 1187, 1191, 1166, 1168, 1170, 1173, 1177, 0,
    1188, 1192, 0, 0, 0, 1174, 1178, 1181, 1189, 1193, 0, 0, 0, 1175, 1179,
    1182, 1190, 1194, 0, 0, 1171, 0, 0, 1183, 0, 0, 0, 1169, 0, 0, 0, 1184,
    0, 0, 1167, 0, 0, 0, 0, 1185, 0, 0, 0, 0, 0, 0, 0, 1186, 0, 0}, {0, 0, 0,
    0, 1413, 1417, 1421, 1428, 1405, 1407, 1409, 1411, 1414, 1418, 0, 1429,
    0, 0, 0, 0, 1415, 1419, 1422, 1430, 0, 0, 0, 0, 1416, 1420, 1423, 1431,
    0, 0, 0, 1412, 0, 0, 1424, 0, 0, 0, 1410, 0, 0, 0, 1425, 0, 0, 1408, 0,
    0, 0, 0, 1426, 0, 1406, 0, 0, 0, 0, 0, 1427, 0}, {0, 0, 0, 0, 0, 1631,
    1635, 1639, 1622, 1623, 1625, 1627, 1629, 1632, 1636, 0, 0, 0, 0, 0, 0,
    1633, 1637, 1640, 0, 0, 0, 0, 0, 1634, 1638, 1641, 0, 0, 0, 0, 1630, 0,
    0, 1642, 0, 0, 0, 1628, 0, 0, 0, 1643, 0, 0, 1626, 0, 0, 0, 0, 1644, 0,
    1624, 0, 0, 0, 0, 0, 1645}, {48, 55, 60, 0, 0, 0, 0, 0, 49, 56, 61, 0,
    0, 0, 0, 0, 0, 57, 62, 65, 67, 69, 71, 72, 50, 58, 63, 0, 0, 0, 0, 0,
    51, 59, 64, 0, 0, 0, 0, 0, 52, 0, 0, 66, 0, 0, 0, 0, 53, 0, 0, 0, 68, 0,
    0, 0, 54, 0, 0, 0, 0, 70, 0, 0}, {246, 251, 258, 263, 0, 0, 0, 0, 247,
    252, 259, 264, 0, 0, 0, 0, 248, 0, 260, 265, 268, 270, 272, 274, 249,
    253, 261, 266, 0, 0, 0, 0, 250, 254, 262, 267, 0, 0, 0, 0, 0, 255, 0,
    0, 269, 0, 0, 0, 0, 256, 0, 0, 0, 271, 0, 0, 0, 257, 0, 0, 0, 0, 273,
    0}, {467, 472, 477, 484, 489, 0, 0, 0, 468, 473, 478, 485, 490, 0, 0,
    0, 469, 474, 0, 486, 491, 494, 496, 498, 470, 475, 479, 487, 492, 0,
    0, 0, 471, 476, 480, 488, 493, 0, 0, 0, 0, 0, 481, 0, 0, 495, 0, 0,
    0, 0, 482, 0, 0, 0, 497, 0, 0, 0, 483, 0, 0, 0, 0, 499}, {0, 709, 714,
    719, 726, 731, 0, 0, 0, 710, 715, 720, 727, 732, 0, 0, 707, 711, 716,
    0, 728, 733, 736, 738, 0, 712, 717, 721, 729, 734, 0, 0, 0, 713, 718,
    722, 730, 735, 0, 0, 708, 0, 0, 723, 0, 0, 737, 0, 0, 0, 0, 724, 0, 0,
    0, 739, 0, 0, 0, 725, 0, 0, 0, 0}, {0, 0, 955, 960, 965, 972, 977, 0,
    0, 0, 956, 961, 966, 973, 978, 0, 951, 953, 957, 962, 0, 974, 979, 982,
    0, 0, 958, 963, 967, 975, 980, 0, 0, 0, 959, 964, 968, 976, 981, 0, 0,
    954, 0, 0, 969, 0, 0, 983, 952, 0, 0, 0, 970, 0, 0, 0, 0, 0, 0, 0, 971,
    0, 0, 0}, {0, 0, 0, 1201, 1206, 1211, 1218, 1223, 0, 0, 0, 1202, 1207,
    1212, 1219, 1224, 1195, 1197, 1199, 1203, 1208, 0, 1220, 1225, 0, 0, 0,
    1204, 1209, 1213, 1221, 1226, 0, 0, 0, 1205, 1210, 1214, 1222, 1227, 0,
    0, 1200, 0, 0, 1215, 0, 0, 0, 1198, 0, 0, 0, 1216, 0, 0, 1196, 0, 0, 0,
    0, 1217, 0, 0}, {0, 0, 0, 0, 1439, 1444, 1449, 1456, 0, 0, 0, 0, 1440,
    1445, 1450, 1457, 1432, 1433, 1435, 1437, 1441, 1446, 0, 1458, 0, 0, 0,
    0, 1442, 1447, 1451, 1459, 0, 0, 0, 0, 1443, 1448, 1452, 1460, 0, 0, 0,
    1438, 0, 0, 1453, 0, 0, 0, 1436, 0, 0, 0, 1454, 0, 0, 1434, 0, 0, 0, 0,
    1455, 0}, {0, 0, 0, 0, 0, 1654, 1659, 1664, 0, 0, 0, 0, 0, 1655, 1660,
    1665, 1646, 1647, 1648, 1650, 1652, 1656, 1661, 0, 0, 0, 0, 0, 0, 1657,
    1662, 1666, 0, 0, 0, 0, 0, 1658, 1663, 1667, 0, 0, 0, 0, 1653, 0, 0,
    1668, 0, 0, 0, 1651, 0, 0, 0, 1669, 0, 0, 1649, 0, 0, 0, 0, 1670}, {73,
    0, 0, 90, 0, 0, 0, 0, 74, 80, 85, 0, 0, 0, 0, 0, 75, 81, 86, 0, 0, 0,
    0, 0, 0, 82, 87, 91, 93, 95, 96, 97, 76, 83, 88, 0, 0, 0, 0, 0, 77, 84,
    89, 0, 0, 0, 0, 0, 78, 0, 0, 92, 0, 0, 0, 0, 79, 0, 0, 0, 94, 0, 0, 0},
    {0, 280, 0, 0, 297, 0, 0, 0, 275, 281, 287, 292, 0, 0, 0, 0, 276, 282,
    288, 293, 0, 0, 0, 0, 277, 0, 289, 294, 298, 300, 302, 303, 278, 283,
    290, 295, 0, 0, 0, 0, 279, 284, 291, 296, 0, 0, 0, 0, 0, 285, 0, 0, 299,
    0, 0, 0, 0, 286, 0, 0, 0, 301, 0, 0}, {0, 0, 510, 0, 0, 527, 0, 0, 500,
    505, 511, 517, 522, 0, 0, 0, 501, 506, 512, 518, 523, 0, 0, 0, 502, 507,
    0, 519, 524, 528, 530, 532, 503, 508, 513, 520, 525, 0, 0, 0, 504, 509,
    514, 521, 526, 0, 0, 0, 0, 0, 515, 0, 0, 529, 0, 0, 0, 0, 516, 0, 0, 0,
    531, 0}, {740, 0, 0, 753, 0, 0, 770, 0, 0, 743, 748, 754, 760, 765, 0,
    0, 0, 744, 749, 755, 761, 766, 0, 0, 741, 745, 750, 0, 762, 767, 771,
    773, 0, 746, 751, 756, 763, 768, 0, 0, 0, 747, 752, 757, 764, 769, 0,
    0, 742, 0, 0, 758, 0, 0, 772, 0, 0, 0, 0, 759, 0, 0, 0, 774}, {0, 986,
    0, 0, 999, 0, 0, 1016, 0, 0, 989, 994, 1000, 1006, 1011, 0, 0, 0, 990,
    995, 1001, 1007, 1012, 0, 984, 987, 991, 996, 0, 1008, 1013, 1017, 0, 0,
    992, 997, 1002, 1009, 1014, 0, 0, 0, 993, 998, 1003, 1010, 1015, 0, 0,
    988, 0, 0, 1004, 0, 0, 1018, 985, 0, 0, 0, 1005, 0, 0, 0}, {0, 0, 1231,
    0, 0, 1244, 0, 0, 0, 0, 0, 1234, 1239, 1245, 1251, 1256, 0, 0, 0, 1235,
    1240, 1246, 1252, 1257, 1228, 1229, 1232, 1236, 1241, 0, 1253, 1258,
    0, 0, 0, 1237, 1242, 1247, 1254, 1259, 0, 0, 0, 1238, 1243, 1248, 1255,
    1260, 0, 0, 1233, 0, 0, 1249, 0, 0, 0, 1230, 0, 0, 0, 1250, 0, 0}, {0,
    0, 0, 1465, 0, 0, 1478, 0, 0, 0, 0, 0, 1468, 1473, 1479, 1485, 0, 0, 0,
    0, 1469, 1474, 1480, 1486, 1461, 1462, 1463, 1466, 1470, 1475, 0, 1487,
    0, 0, 0, 0, 1471, 1476, 1481, 1488, 0, 0, 0, 0, 1472, 1477, 1482, 1489,
    0, 0, 0, 1467, 0, 0, 1483, 0, 0, 0, 1464, 0, 0, 0, 1484, 0}, {0, 0, 0, 0,
    1676, 0, 0, 1689, 0, 0, 0, 0, 0, 1679, 1684, 1690, 0, 0, 0, 0, 0, 1680,
    1685, 1691, 1671, 1672, 1673, 1674, 1677, 1681, 1686, 0, 0, 0, 0, 0, 0,
    1682, 1687, 1692, 0, 0, 0, 0, 0, 1683, 1688, 1693, 0, 0, 0, 0, 1678, 0,
    0, 1694, 0, 0, 0, 1675, 0, 0, 0, 1695}, {98, 0, 0, 0, 118, 0, 0, 0, 99,
    0, 0, 115, 0, 0, 0, 0, 100, 105, 110, 0, 0, 0, 0, 0, 101, 106, 111, 0,
    0, 0, 0, 0, 0, 107, 112, 116, 119, 120, 121, 122, 102, 108, 113, 0, 0,
    0, 0, 0, 103, 109, 114, 0, 0, 0, 0, 0, 104, 0, 0, 117, 0, 0, 0, 0}, {0,
    309, 0, 0, 0, 329, 0, 0, 0, 310, 0, 0, 326, 0, 0, 0, 304, 311, 316, 321,
    0, 0, 0, 0, 305, 312, 317, 322, 0, 0, 0, 0, 306, 0, 318, 323, 327, 330,
    331, 332, 307, 313, 319, 324, 0, 0, 0, 0, 308, 314, 320, 325, 0, 0, 0,
    0, 0, 315, 0, 0, 328, 0, 0, 0}, {0, 0, 543, 0, 0, 0, 563, 0, 0, 0, 544,
    0, 0, 560, 0, 0, 533, 538, 545, 550, 555, 0, 0, 0, 534, 539, 546, 551,
    556, 0, 0, 0, 535, 540, 0, 552, 557, 561, 564, 565, 536, 541, 547, 553,
    558, 0, 0, 0, 537, 542, 548, 554, 559, 0, 0, 0, 0, 0, 549, 0, 0, 562, 0,
    0}, {0, 0, 0, 788, 0, 0, 0, 808, 775, 0, 0, 789, 0, 0, 805, 0, 0, 778,
    783, 790, 795, 800, 0, 0, 0, 779, 784, 791, 796, 801, 0, 0, 776, 780,
    785, 0, 797, 802, 806, 809, 0, 781, 786, 792, 798, 803, 0, 0, 0, 782,
    787, 793, 799, 804, 0, 0, 777, 0, 0, 794, 0, 0, 807, 0}, {1019, 0, 0, 0,
    1034, 0, 0, 0, 0, 1021, 0, 0, 1035, 0, 0, 1051, 0, 0, 1024, 1029, 1036,
    1041, 1046, 0, 0, 0, 1025, 1030, 1037, 1042, 1047, 0, 1020, 1022, 1026,
    1031, 0, 1043, 1048, 1052, 0, 0, 1027, 1032, 1038, 1044, 1049, 0, 0, 0,
    1028, 1033, 1039, 1045, 1050, 0, 0, 1023, 0, 0, 1040, 0, 0, 1053}, {0,
    1262, 0, 0, 0, 1277, 0, 0, 0, 0, 1264, 0, 0, 1278, 0, 0, 0, 0, 0, 1267,
    1272, 1279, 1284, 1289, 0, 0, 0, 1268, 1273, 1280, 1285, 1290, 1261,
    1263, 1265, 1269, 1274, 0, 1286, 1291, 0, 0, 0, 1270, 1275, 1281, 1287,
    1292, 0, 0, 0, 1271, 1276, 1282, 1288, 1293, 0, 0, 1266, 0, 0, 1283,
    0, 0}, {0, 0, 1492, 0, 0, 0, 1507, 0, 0, 0, 0, 1494, 0, 0, 1508, 0, 0,
    0, 0, 0, 1497, 1502, 1509, 1514, 0, 0, 0, 0, 1498, 1503, 1510, 1515,
    1490, 1491, 1493, 1495, 1499, 1504, 0, 1516, 0, 0, 0, 0, 1500, 1505,
    1511, 1517, 0, 0, 0, 0, 1501, 1506, 1512, 1518, 0, 0, 0, 1496, 0, 0,
    1513, 0}, {0, 0, 0, 1699, 0, 0, 0, 1714, 0, 0, 0, 0, 1701, 0, 0, 1715,
    0, 0, 0, 0, 0, 1704, 1709, 1716, 0, 0, 0, 0, 0, 1705, 1710, 1717, 1696,
    1697, 1698, 1700, 1702, 1706, 1711, 0, 0, 0, 0, 0, 0, 1707, 1712, 1718,
    0, 0, 0, 0, 0, 1708, 1713, 1719, 0, 0, 0, 0, 1703, 0, 0, 1720}, {123,
    0, 0, 0, 0, 144, 0, 0, 124, 0, 0, 0, 142, 0, 0, 0, 125, 0, 0, 140, 0,
    0, 0, 0, 126, 130, 135, 0, 0, 0, 0, 0, 127, 131, 136, 0, 0, 0, 0, 0, 0,
    132, 137, 141, 143, 145, 146, 147, 128, 133, 138, 0, 0, 0, 0, 0, 129,
    134, 139, 0, 0, 0, 0, 0}, {0, 338, 0, 0, 0, 0, 359, 0, 0, 339, 0, 0, 0,
    357, 0, 0, 0, 340, 0, 0, 355, 0, 0, 0, 333, 341, 345, 350, 0, 0, 0, 0,
    334, 342, 346, 351, 0, 0, 0, 0, 335, 0, 347, 352, 356, 358, 360, 361,
    336, 343, 348, 353, 0, 0, 0, 0, 337, 344, 349, 354, 0, 0, 0, 0}, {0,
    0, 576, 0, 0, 0, 0, 597, 0, 0, 577, 0, 0, 0, 595, 0, 0, 0, 578, 0, 0,
    593, 0, 0, 566, 571, 579, 583, 588, 0, 0, 0, 567, 572, 580, 584, 589,
    0, 0, 0, 568, 573, 0, 585, 590, 594, 596, 598, 569, 574, 581, 586, 591,
    0, 0, 0, 570, 575, 582, 587, 592, 0, 0, 0}, {0, 0, 0, 822, 0, 0, 0, 0,
    0, 0, 0, 823, 0, 0, 0, 841, 810, 0, 0, 824, 0, 0, 839, 0, 0, 812, 817,
    825, 829, 834, 0, 0, 0, 813, 818, 826, 830, 835, 0, 0, 811, 814, 819,
    0, 831, 836, 840, 842, 0, 815, 820, 827, 832, 837, 0, 0, 0, 816, 821,
    828, 833, 838, 0, 0}, {0, 0, 0, 0, 1068, 0, 0, 0, 1054, 0, 0, 0, 1069,
    0, 0, 0, 0, 1056, 0, 0, 1070, 0, 0, 1085, 0, 0, 1058, 1063, 1071, 1075,
    1080, 0, 0, 0, 1059, 1064, 1072, 1076, 1081, 0, 1055, 1057, 1060, 1065,
    0, 1077, 1082, 1086, 0, 0, 1061, 1066, 1073, 1078, 1083, 0, 0, 0, 1062,
    1067, 1074, 1079, 1084, 0}, {1294, 0, 0, 0, 0, 1310, 0, 0, 0, 1296, 0,
    0, 0, 1311, 0, 0, 0, 0, 1298, 0, 0, 1312, 0, 0, 0, 0, 0, 1300, 1305,
    1313, 1317, 1322, 0, 0, 0, 1301, 1306, 1314, 1318, 1323, 1295, 1297,
    1299, 1302, 1307, 0, 1319, 1324, 0, 0, 0, 1303, 1308, 1315, 1320, 1325,
    0, 0, 0, 1304, 1309, 1316, 1321, 1326}, {0, 1520, 0, 0, 0, 0, 1536, 0,
    0, 0, 1522, 0, 0, 0, 1537, 0, 0, 0, 0, 1524, 0, 0, 1538, 0, 0, 0, 0, 0,
    1526, 1531, 1539, 1543, 0, 0, 0, 0, 1527, 1532, 1540, 1544, 1519, 1521,
    1523, 1525, 1528, 1533, 0, 1545, 0, 0, 0, 0, 1529, 1534, 1541, 1546, 0,
    0, 0, 0, 1530, 1535, 1542, 1547}, {0, 0, 1723, 0, 0, 0, 0, 1739, 0, 0,
    0, 1725, 0, 0, 0, 1740, 0, 0, 0, 0, 1727, 0, 0, 1741, 0, 0, 0, 0, 0,
    1729, 1734, 1742, 0, 0, 0, 0, 0, 1730, 1735, 1743, 1721, 1722, 1724,
    1726, 1728, 1731, 1736, 0, 0, 0, 0, 0, 0, 1732, 1737, 1744, 0, 0, 0,
    0, 0, 1733, 1738, 1745}, {148, 0, 0, 0, 0, 0, 169, 0, 149, 0, 0, 0, 0,
    167, 0, 0, 150, 0, 0, 0, 165, 0, 0, 0, 151, 0, 0, 163, 0, 0, 0, 0, 152,
    155, 159, 0, 0, 0, 0, 0, 153, 156, 160, 0, 0, 0, 0, 0, 0, 157, 161, 164,
    166, 168, 170, 171, 154, 158, 162, 0, 0, 0, 0, 0}, {0, 366, 0, 0, 0, 0,
    0, 387, 0, 367, 0, 0, 0, 0, 385, 0, 0, 368, 0, 0, 0, 383, 0, 0, 0, 369,
    0, 0, 381, 0, 0, 0, 362, 370, 373, 377, 0, 0, 0, 0, 363, 371, 374, 378,
    0, 0, 0, 0, 364, 0, 375, 379, 382, 384, 386, 388, 365, 372, 376, 380,
    0, 0, 0, 0}, {0, 0, 607, 0, 0, 0, 0, 0, 0, 0, 608, 0, 0, 0, 0, 626,
    0, 0, 609, 0, 0, 0, 624, 0, 0, 0, 610, 0, 0, 622, 0, 0, 599, 603, 611,
    614, 618, 0, 0, 0, 600, 604, 612, 615, 619, 0, 0, 0, 601, 605, 0, 616,
    620, 623, 625, 627, 602, 606, 613, 617, 621, 0, 0, 0}, {0, 0, 0, 853,
    0, 0, 0, 0, 0, 0, 0, 854, 0, 0, 0, 0, 0, 0, 0, 855, 0, 0, 0, 870, 843,
    0, 0, 856, 0, 0, 868, 0, 0, 845, 849, 857, 860, 864, 0, 0, 0, 846, 850,
    858, 861, 865, 0, 0, 844, 847, 851, 0, 862, 866, 869, 871, 0, 848, 852,
    859, 863, 867, 0, 0}, {0, 0, 0, 0, 1099, 0, 0, 0, 0, 0, 0, 0, 1100, 0,
    0, 0, 1087, 0, 0, 0, 1101, 0, 0, 0, 0, 1089, 0, 0, 1102, 0, 0, 1114, 0,
    0, 1091, 1095, 1103, 1106, 1110, 0, 0, 0, 1092, 1096, 1104, 1107, 1111,
    0, 1088, 1090, 1093, 1097, 0, 1108, 1112, 1115, 0, 0, 1094, 1098, 1105,
    1109, 1113, 0}, {0, 0, 0, 0, 0, 1341, 0, 0, 1327, 0, 0, 0, 0, 1342, 0,
    0, 0, 1329, 0, 0, 0, 1343, 0, 0, 0, 0, 1331, 0, 0, 1344, 0, 0, 0, 0,
    0, 1333, 1337, 1345, 1348, 1352, 0, 0, 0, 1334, 1338, 1346, 1349, 1353,
    1328, 1330, 1332, 1335, 1339, 0, 1350, 1354, 0, 0, 0, 1336, 1340, 1347,
    1351, 1355}, {1548, 0, 0, 0, 0, 0, 1564, 0, 0, 1550, 0, 0, 0, 0, 1565,
    0, 0, 0, 1552, 0, 0, 0, 1566, 0, 0, 0, 0, 1554, 0, 0, 1567, 0, 0, 0, 0,
    0, 1556, 1560, 1568, 1571, 0, 0, 0, 0, 1557, 1561, 1569, 1572, 1549,
    1551, 1553, 1555, 1558, 1562, 0, 1573, 0, 0, 0, 0, 1559, 1563, 1570,
    1574}, {0, 1747, 0, 0, 0, 0, 0, 1763, 0, 0, 1749, 0, 0, 0, 0, 1764, 0,
    0, 0, 1751, 0, 0, 0, 1765, 0, 0, 0, 0, 1753, 0, 0, 1766, 0, 0, 0, 0, 0,
    1755, 1759, 1767, 0, 0, 0, 0, 0, 1756, 1760, 1768, 1746, 1748, 1750,
    1752, 1754, 1757, 1761, 0, 0, 0, 0, 0, 0, 1758, 1762, 1769}, {172, 0,
    0, 0, 0, 0, 0, 193, 173, 0, 0, 0, 0, 0, 191, 0, 174, 0, 0, 0, 0, 189,
    0, 0, 175, 0, 0, 0, 187, 0, 0, 0, 176, 0, 0, 185, 0, 0, 0, 0, 177, 179,
    182, 0, 0, 0, 0, 0, 178, 180, 183, 0, 0, 0, 0, 0, 0, 181, 184, 186, 188,
    190, 192, 194}, {0, 392, 0, 0, 0, 0, 0, 0, 0, 393, 0, 0, 0, 0, 0, 411,
    0, 394, 0, 0, 0, 0, 409, 0, 0, 395, 0, 0, 0, 407, 0, 0, 0, 396, 0, 0,
    405, 0, 0, 0, 389, 397, 399, 402, 0, 0, 0, 0, 390, 398, 400, 403, 0,
    0, 0, 0, 391, 0, 401, 404, 406, 408, 410, 412}, {0, 0, 634, 0, 0, 0,
    0, 0, 0, 0, 635, 0, 0, 0, 0, 0, 0, 0, 636, 0, 0, 0, 0, 651, 0, 0, 637,
    0, 0, 0, 649, 0, 0, 0, 638, 0, 0, 647, 0, 0, 628, 631, 639, 641, 644,
    0, 0, 0, 629, 632, 640, 642, 645, 0, 0, 0, 630, 633, 0, 643, 646, 648,
    650, 652}, {0, 0, 0, 880, 0, 0, 0, 0, 0, 0, 0, 881, 0, 0, 0, 0, 0, 0,
    0, 882, 0, 0, 0, 0, 0, 0, 0, 883, 0, 0, 0, 895, 872, 0, 0, 884, 0, 0,
    893, 0, 0, 874, 877, 885, 887, 890, 0, 0, 0, 875, 878, 886, 888, 891,
    0, 0, 873, 876, 879, 0, 889, 892, 894, 896}, {0, 0, 0, 0, 1126, 0, 0,
    0, 0, 0, 0, 0, 1127, 0, 0, 0, 0, 0, 0, 0, 1128, 0, 0, 0, 1116, 0, 0, 0,
    1129, 0, 0, 0, 0, 1118, 0, 0, 1130, 0, 0, 1139, 0, 0, 1120, 1123, 1131,
    1133, 1136, 0, 0, 0, 1121, 1124, 1132, 1134, 1137, 0, 1117, 1119, 1122,
    1125, 0, 1135, 1138, 1140}, {0, 0, 0, 0, 0, 1368, 0, 0, 0, 0, 0, 0, 0,
    1369, 0, 0, 1356, 0, 0, 0, 0, 1370, 0, 0, 0, 1358, 0, 0, 0, 1371, 0, 0,
    0, 0, 1360, 0, 0, 1372, 0, 0, 0, 0, 0, 1362, 1365, 1373, 1375, 1378, 0,
    0, 0, 1363, 1366, 1374, 1376, 1379, 1357, 1359, 1361, 1364, 1367, 0,
    1377, 1380}, {0, 0, 0, 0, 0, 0, 1589, 0, 1575, 0, 0, 0, 0, 0, 1590, 0,
    0, 1577, 0, 0, 0, 0, 1591, 0, 0, 0, 1579, 0, 0, 0, 1592, 0, 0, 0, 0,
    1581, 0, 0, 1593, 0, 0, 0, 0, 0, 1583, 1586, 1594, 1596, 0, 0, 0, 0,
    1584, 1587, 1595, 1597, 1576, 1578, 1580, 1582, 1585, 1588, 0, 1598},
    {1770, 0, 0, 0, 0, 0, 0, 1786, 0, 1772, 0, 0, 0, 0, 0, 1787, 0, 0, 1774,
    0, 0, 0, 0, 1788, 0, 0, 0, 1776, 0, 0, 0, 1789, 0, 0, 0, 0, 1778, 0, 0,
    1790, 0, 0, 0, 0, 0, 1780, 1783, 1791, 0, 0, 0, 0, 0, 1781, 1784, 1792,
    1771, 1773, 1775, 1777, 1779, 1782, 1785, 0} };

const Bitboard ONE = 1;

// TODO: doc
const Bitboard SQ_RAY[][8] = {
    {0x101010101010100U, 0x8040201008040200U, 0xfeU, 0x0U, 0x0U, 0x0U,
    0x0U, 0x0U}, {0x202020202020200U, 0x80402010080400U, 0xfcU, 0x0U,
    0x0U, 0x0U, 0x1U, 0x100U}, {0x404040404040400U, 0x804020100800U, 0xf8U,
    0x0U, 0x0U, 0x0U, 0x3U, 0x10200U}, {0x808080808080800U, 0x8040201000U,
    0xf0U, 0x0U, 0x0U, 0x0U, 0x7U, 0x1020400U}, {0x1010101010101000U,
    0x80402000U, 0xe0U, 0x0U, 0x0U, 0x0U, 0xfU, 0x102040800U},
    {0x2020202020202000U, 0x804000U, 0xc0U, 0x0U, 0x0U, 0x0U, 0x1fU,
    0x10204081000U}, {0x4040404040404000U, 0x8000U, 0x80U, 0x0U, 0x0U,
    0x0U, 0x3fU, 0x1020408102000U}, {0x8080808080808000U, 0x0U, 0x0U,
    0x0U, 0x0U, 0x0U, 0x7fU, 0x102040810204000U}, {0x101010101010000U,
    0x4020100804020000U, 0xfe00U, 0x2U, 0x1U, 0x0U, 0x0U, 0x0U},
    {0x202020202020000U, 0x8040201008040000U, 0xfc00U, 0x4U, 0x2U, 0x1U,
    0x100U, 0x10000U}, {0x404040404040000U, 0x80402010080000U, 0xf800U, 0x8U,
    0x4U, 0x2U, 0x300U, 0x1020000U}, {0x808080808080000U, 0x804020100000U,
    0xf000U, 0x10U, 0x8U, 0x4U, 0x700U, 0x102040000U}, {0x1010101010100000U,
    0x8040200000U, 0xe000U, 0x20U, 0x10U, 0x8U, 0xf00U, 0x10204080000U},
    {0x2020202020200000U, 0x80400000U, 0xc000U, 0x40U, 0x20U, 0x10U, 0x1f00U,
    0x1020408100000U}, {0x4040404040400000U, 0x800000U, 0x8000U, 0x80U,
    0x40U, 0x20U, 0x3f00U, 0x102040810200000U}, {0x8080808080800000U,
    0x0U, 0x0U, 0x0U, 0x80U, 0x40U, 0x7f00U, 0x204081020400000U},
    {0x101010101000000U, 0x2010080402000000U, 0xfe0000U, 0x204U, 0x101U,
    0x0U, 0x0U, 0x0U}, {0x202020202000000U, 0x4020100804000000U, 0xfc0000U,
    0x408U, 0x202U, 0x100U, 0x10000U, 0x1000000U}, {0x404040404000000U,
    0x8040201008000000U, 0xf80000U, 0x810U, 0x404U, 0x201U, 0x30000U,
    0x102000000U}, {0x808080808000000U, 0x80402010000000U, 0xf00000U, 0x1020U,
    0x808U, 0x402U, 0x70000U, 0x10204000000U}, {0x1010101010000000U,
    0x804020000000U, 0xe00000U, 0x2040U, 0x1010U, 0x804U, 0xf0000U,
    0x1020408000000U}, {0x2020202020000000U, 0x8040000000U, 0xc00000U,
    0x4080U, 0x2020U, 0x1008U, 0x1f0000U, 0x102040810000000U},
    {0x4040404040000000U, 0x80000000U, 0x800000U, 0x8000U, 0x4040U,
    0x2010U, 0x3f0000U, 0x204081020000000U}, {0x8080808080000000U,
    0x0U, 0x0U, 0x0U, 0x8080U, 0x4020U, 0x7f0000U, 0x408102040000000U},
    {0x101010100000000U, 0x1008040200000000U, 0xfe000000U, 0x20408U,
    0x10101U, 0x0U, 0x0U, 0x0U}, {0x202020200000000U, 0x2010080400000000U,
    0xfc000000U, 0x40810U, 0x20202U, 0x10000U, 0x1000000U, 0x100000000U},
    {0x404040400000000U, 0x4020100800000000U, 0xf8000000U, 0x81020U,
    0x40404U, 0x20100U, 0x3000000U, 0x10200000000U}, {0x808080800000000U,
    0x8040201000000000U, 0xf0000000U, 0x102040U, 0x80808U, 0x40201U,
    0x7000000U, 0x1020400000000U}, {0x1010101000000000U, 0x80402000000000U,
    0xe0000000U, 0x204080U, 0x101010U, 0x80402U, 0xf000000U,
    0x102040800000000U}, {0x2020202000000000U, 0x804000000000U, 0xc0000000U,
    0x408000U, 0x202020U, 0x100804U, 0x1f000000U, 0x204081000000000U},
    {0x4040404000000000U, 0x8000000000U, 0x80000000U, 0x800000U, 0x404040U,
    0x201008U, 0x3f000000U, 0x408102000000000U}, {0x8080808000000000U, 0x0U,
    0x0U, 0x0U, 0x808080U, 0x402010U, 0x7f000000U, 0x810204000000000U},
    {0x101010000000000U, 0x804020000000000U, 0xfe00000000U, 0x2040810U,
    0x1010101U, 0x0U, 0x0U, 0x0U}, {0x202020000000000U, 0x1008040000000000U,
    0xfc00000000U, 0x4081020U, 0x2020202U, 0x1000000U, 0x100000000U,
    0x10000000000U}, {0x404040000000000U, 0x2010080000000000U,
    0xf800000000U, 0x8102040U, 0x4040404U, 0x2010000U, 0x300000000U,
    0x1020000000000U}, {0x808080000000000U, 0x4020100000000000U,
    0xf000000000U, 0x10204080U, 0x8080808U, 0x4020100U, 0x700000000U,
    0x102040000000000U}, {0x1010100000000000U, 0x8040200000000000U,
    0xe000000000U, 0x20408000U, 0x10101010U, 0x8040201U, 0xf00000000U,
    0x204080000000000U}, {0x2020200000000000U, 0x80400000000000U,
    0xc000000000U, 0x40800000U, 0x20202020U, 0x10080402U, 0x1f00000000U,
    0x408100000000000U}, {0x4040400000000000U, 0x800000000000U,
    0x8000000000U, 0x80000000U, 0x40404040U, 0x20100804U,
    0x3f00000000U, 0x810200000000000U}, {0x8080800000000000U,
    0x0U, 0x0U, 0x0U, 0x80808080U, 0x40201008U, 0x7f00000000U,
    0x1020400000000000U}, {0x101000000000000U, 0x402000000000000U,
    0xfe0000000000U, 0x204081020U, 0x101010101U, 0x0U, 0x0U, 0x0U},
    {0x202000000000000U, 0x804000000000000U, 0xfc0000000000U, 0x408102040U,
    0x202020202U, 0x100000000U, 0x10000000000U, 0x1000000000000U},
    {0x404000000000000U, 0x1008000000000000U, 0xf80000000000U, 0x810204080U,
    0x404040404U, 0x201000000U, 0x30000000000U, 0x102000000000000U},
    {0x808000000000000U, 0x2010000000000000U, 0xf00000000000U, 0x1020408000U,
    0x808080808U, 0x402010000U, 0x70000000000U, 0x204000000000000U},
    {0x1010000000000000U, 0x4020000000000000U, 0xe00000000000U, 0x2040800000U,
    0x1010101010U, 0x804020100U, 0xf0000000000U, 0x408000000000000U},
    {0x2020000000000000U, 0x8040000000000000U, 0xc00000000000U, 0x4080000000U,
    0x2020202020U, 0x1008040201U, 0x1f0000000000U, 0x810000000000000U},
    {0x4040000000000000U, 0x80000000000000U, 0x800000000000U, 0x8000000000U,
    0x4040404040U, 0x2010080402U, 0x3f0000000000U, 0x1020000000000000U},
    {0x8080000000000000U, 0x0U, 0x0U, 0x0U, 0x8080808080U, 0x4020100804U,
    0x7f0000000000U, 0x2040000000000000U}, {0x100000000000000U,
    0x200000000000000U, 0xfe000000000000U, 0x20408102040U, 0x10101010101U,
    0x0U, 0x0U, 0x0U}, {0x200000000000000U, 0x400000000000000U,
    0xfc000000000000U, 0x40810204080U, 0x20202020202U, 0x10000000000U,
    0x1000000000000U, 0x100000000000000U}, {0x400000000000000U,
    0x800000000000000U, 0xf8000000000000U, 0x81020408000U,
    0x40404040404U, 0x20100000000U, 0x3000000000000U, 0x200000000000000U},
    {0x800000000000000U, 0x1000000000000000U, 0xf0000000000000U,
    0x102040800000U, 0x80808080808U, 0x40201000000U, 0x7000000000000U,
    0x400000000000000U}, {0x1000000000000000U, 0x2000000000000000U,
    0xe0000000000000U, 0x204080000000U, 0x101010101010U,
    0x80402010000U, 0xf000000000000U, 0x800000000000000U},
    {0x2000000000000000U, 0x4000000000000000U, 0xc0000000000000U,
    0x408000000000U, 0x202020202020U, 0x100804020100U, 0x1f000000000000U,
    0x1000000000000000U}, {0x4000000000000000U, 0x8000000000000000U,
    0x80000000000000U, 0x800000000000U, 0x404040404040U, 0x201008040201U,
    0x3f000000000000U, 0x2000000000000000U}, {0x8000000000000000U, 0x0U,
    0x0U, 0x0U, 0x808080808080U, 0x402010080402U, 0x7f000000000000U,
    0x4000000000000000U}, {0x0U, 0x0U, 0xfe00000000000000U, 0x2040810204080U,
    0x1010101010101U, 0x0U, 0x0U, 0x0U}, {0x0U, 0x0U, 0xfc00000000000000U,
    0x4081020408000U, 0x2020202020202U, 0x1000000000000U, 0x100000000000000U,
    0x0U}, {0x0U, 0x0U, 0xf800000000000000U, 0x8102040800000U,
    0x4040404040404U, 0x2010000000000U, 0x300000000000000U, 0x0U}, {0x0U,
    0x0U, 0xf000000000000000U, 0x10204080000000U, 0x8080808080808U,
    0x4020100000000U, 0x700000000000000U, 0x0U}, {0x0U, 0x0U,
    0xe000000000000000U, 0x20408000000000U, 0x10101010101010U,
    0x8040201000000U, 0xf00000000000000U, 0x0U}, {0x0U, 0x0U,
    0xc000000000000000U, 0x40800000000000U, 0x20202020202020U,
    0x10080402010000U, 0x1f00000000000000U, 0x0U}, {0x0U, 0x0U,
    0x8000000000000000U, 0x80000000000000U, 0x40404040404040U,
    0x20100804020100U, 0x3f00000000000000U, 0x0U}, {0x0U, 0x0U, 0x0U, 0x0U,
    0x80808080808080U, 0x40201008040201U, 0x7f00000000000000U, 0x0U} };
