Bitboard dest_k, dest_q1, dest_q2, dest_r1, dest_r2, dest_b1, dest_b2, dest_n1, dest_n2;
Bitboard moves_p1, ..., moves_p8;

int orig_k, orig_q1, orig_q2, orig_r1, orig_r2, orig_b1, orig_b2, orig_n1, orig_n2;

The behavior of move_gen() is to set the above global variables to their
appropriate values given Pos *p.

Unneccessary recomputation should be avoided.

The caller can create a set of Pos variables using the global variables.
These Pos variables are the children of the argument to move_gen().
